"use strict"; (() => {
	var O = (e, t) => () => (t || e((t = { exports: {} }).exports, t), t.exports); var Rn = O(g => {
		"use strict"; Object.defineProperty(g, "__esModule", { value: !0 }); var Y = function () { return Y = Object.assign || function (t) { for (var r, n = 1, i = arguments.length; n < i; n++) { r = arguments[n]; for (var a in r) Object.prototype.hasOwnProperty.call(r, a) && (t[a] = r[a]) } return t }, Y.apply(this, arguments) }; function re(e) { var t = typeof Symbol == "function" && Symbol.iterator, r = t && e[t], n = 0; if (r) return r.call(e); if (e && typeof e.length == "number") return { next: function () { return e && n >= e.length && (e = void 0), { value: e && e[n++], done: !e } } }; throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.") } function rr(e, t) { var r = typeof Symbol == "function" && e[Symbol.iterator]; if (!r) return e; var n = r.call(e), i, a = [], o; try { for (; (t === void 0 || t-- > 0) && !(i = n.next()).done;)a.push(i.value) } catch (u) { o = { error: u } } finally { try { i && !i.done && (r = n.return) && r.call(n) } finally { if (o) throw o.error } } return a } function H() { for (var e = [], t = 0; t < arguments.length; t++)e = e.concat(rr(arguments[t])); return e } var j; (function (e) { e[e.Document = 0] = "Document", e[e.DocumentType = 1] = "DocumentType", e[e.Element = 2] = "Element", e[e.Text = 3] = "Text", e[e.CDATA = 4] = "CDATA", e[e.Comment = 5] = "Comment" })(j || (j = {})); var ga = 1, ba = RegExp("[^a-z1-6-_]"), et = -2; function wa() { return ga++ } function Ca(e) { if (e instanceof HTMLFormElement) return "form"; var t = e.tagName.toLowerCase().trim(); return ba.test(t) ? "div" : t } function Xt(e) { try { var t = e.rules || e.cssRules; return t ? Array.from(t).map(Sa).join("") : null } catch { return null } } function Sa(e) { return Ea(e) ? Xt(e.styleSheet) || "" : e.cssText } function Ea(e) { return "styleSheet" in e } function xa(e) { var t; return e.indexOf("//") > -1 ? t = e.split("/").slice(0, 3).join("/") : t = e.split("/")[0], t = t.split("?")[0], t } var Ta = /url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm, ka = /^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/, Aa = /^(data:)([^,]*),(.*)/i; function pt(e, t) { return (e || "").replace(Ta, function (r, n, i, a, o, u) { var s = i || o || u, c = n || a || ""; if (!s) return r; if (!ka.test(s) || Aa.test(s)) return "url(" + c + s + c + ")"; if (s[0] === "/") return "url(" + c + (xa(t) + s) + c + ")"; var l = t.split("/"), f = s.split("/"); l.pop(); for (var v = 0, h = f; v < h.length; v++) { var d = h[v]; d !== "." && (d === ".." ? l.pop() : l.push(d)) } return "url(" + c + l.join("/") + c + ")" }) } function Ia(e, t) { if (t.trim() === "") return t; var r = t.split(","), n = r.map(function (i) { var a = i.trimLeft().trimRight(), o = a.split(" "); if (o.length === 2) { var u = jt(e, o[0]); return u + " " + o[1] } else if (o.length === 1) { var u = jt(e, o[0]); return "" + u } return "" }).join(", "); return n } function jt(e, t) { if (!t || t.trim() === "") return t; var r = e.createElement("a"); return r.href = t, r.href } function Na(e) { return e.tagName === "svg" || e instanceof SVGElement } function bn(e, t, r) { return t === "src" || (t === "href" || t === "xlink:href") && r ? jt(e, r) : t === "srcset" && r ? Ia(e, r) : t === "style" && r ? pt(r, location.href) : r } function Ma(e, t, r) { if (typeof t == "string") { if (e.classList.contains(t)) return !0 } else e.classList.forEach(function (n) { if (t.test(n)) return !0 }); return r ? e.matches(r) : !1 } function Oa(e, t) { var r = t.doc, n = t.blockClass, i = t.blockSelector, a = t.inlineStylesheet, o = t.maskInputOptions, u = o === void 0 ? {} : o, s = t.recordCanvas; switch (e.nodeType) { case e.DOCUMENT_NODE: return { type: j.Document, childNodes: [] }; case e.DOCUMENT_TYPE_NODE: return { type: j.DocumentType, name: e.name, publicId: e.publicId, systemId: e.systemId }; case e.ELEMENT_NODE: for (var c = Ma(e, n, i), l = Ca(e), f = {}, v = 0, h = Array.from(e.attributes); v < h.length; v++) { var d = h[v], b = d.name, m = d.value; f[b] = bn(r, b, m) } if (l === "link" && a) { var p = Array.from(r.styleSheets).find(function (D) { return D.href === e.href }), w = Xt(p); w && (delete f.rel, delete f.href, f._cssText = pt(w, p.href)) } if (l === "style" && e.sheet && !(e.innerText || e.textContent || "").trim().length) { var w = Xt(e.sheet); w && (f._cssText = pt(w, location.href)) } if (l === "input" || l === "textarea" || l === "select") { var m = e.value; f.type !== "radio" && f.type !== "checkbox" && f.type !== "submit" && f.type !== "button" && m ? f.value = u[f.type] || u[l] ? "*".repeat(m.length) : m : e.checked && (f.checked = e.checked) } if (l === "option") { var E = e.parentElement; f.value === E.value && (f.selected = e.selected) } if (l === "canvas" && s && (f.rr_dataURL = e.toDataURL()), (l === "audio" || l === "video") && (f.rr_mediaState = e.paused ? "paused" : "played"), e.scrollLeft && (f.rr_scrollLeft = e.scrollLeft), e.scrollTop && (f.rr_scrollTop = e.scrollTop), c) { var x = e.getBoundingClientRect(), k = x.width, S = x.height; f = { class: f.class, rr_width: k + "px", rr_height: S + "px" } } return { type: j.Element, tagName: l, attributes: f, childNodes: [], isSVG: Na(e) || void 0, needBlock: c }; case e.TEXT_NODE: var A = e.parentNode && e.parentNode.tagName, C = e.textContent, M = A === "STYLE" ? !0 : void 0; return M && C && (C = pt(C, location.href)), A === "SCRIPT" && (C = "SCRIPT_PLACEHOLDER"), { type: j.Text, textContent: C || "", isStyle: M }; case e.CDATA_SECTION_NODE: return { type: j.CDATA, textContent: "" }; case e.COMMENT_NODE: return { type: j.Comment, textContent: e.textContent || "" }; default: return !1 } } function X(e) { return e === void 0 ? "" : e.toLowerCase() } function Fa(e, t) { if (t.comment && e.type === j.Comment) return !0; if (e.type === j.Element) { if (t.script && (e.tagName === "script" || e.tagName === "link" && e.attributes.rel === "preload" && e.attributes.as === "script")) return !0; if (t.headFavicon && (e.tagName === "link" && e.attributes.rel === "shortcut icon" || e.tagName === "meta" && (X(e.attributes.name).match(/^msapplication-tile(image|color)$/) || X(e.attributes.name) === "application-name" || X(e.attributes.rel) === "icon" || X(e.attributes.rel) === "apple-touch-icon" || X(e.attributes.rel) === "shortcut icon"))) return !0; if (e.tagName === "meta") { if (t.headMetaDescKeywords && X(e.attributes.name).match(/^description|keywords$/)) return !0; if (t.headMetaSocial && (X(e.attributes.property).match(/^(og|twitter|fb):/) || X(e.attributes.name).match(/^(og|twitter):/) || X(e.attributes.name) === "pinterest")) return !0; if (t.headMetaRobots && (X(e.attributes.name) === "robots" || X(e.attributes.name) === "googlebot" || X(e.attributes.name) === "bingbot")) return !0; if (t.headMetaHttpEquiv && e.attributes["http-equiv"] !== void 0) return !0; if (t.headMetaAuthorship && (X(e.attributes.name) === "author" || X(e.attributes.name) === "generator" || X(e.attributes.name) === "framework" || X(e.attributes.name) === "publisher" || X(e.attributes.name) === "progid" || X(e.attributes.property).match(/^article:/) || X(e.attributes.property).match(/^product:/))) return !0; if (t.headMetaVerification && (X(e.attributes.name) === "google-site-verification" || X(e.attributes.name) === "yandex-verification" || X(e.attributes.name) === "csrf-token" || X(e.attributes.name) === "p:domain_verify" || X(e.attributes.name) === "verify-v1" || X(e.attributes.name) === "verification" || X(e.attributes.name) === "shopify-checkout-api-token")) return !0 } } return !1 } function nr(e, t) { var r = t.doc, n = t.map, i = t.blockClass, a = t.blockSelector, o = t.skipChild, u = o === void 0 ? !1 : o, s = t.inlineStylesheet, c = s === void 0 ? !0 : s, l = t.maskInputOptions, f = l === void 0 ? {} : l, v = t.slimDOMOptions, h = t.recordCanvas, d = h === void 0 ? !1 : h, b = t.preserveWhiteSpace, m = b === void 0 ? !0 : b, p = Oa(e, { doc: r, blockClass: i, blockSelector: a, inlineStylesheet: c, maskInputOptions: f, recordCanvas: d }); if (!p) return console.warn(e, "not serialized"), null; var w; "__sn" in e ? w = e.__sn.id : Fa(p, v) || !m && p.type === j.Text && !p.isStyle && !p.textContent.replace(/^\s+|\s+$/gm, "").length ? w = et : w = wa(); var E = Object.assign(p, { id: w }); if (e.__sn = E, w === et) return null; n[w] = e; var x = !u; if (E.type === j.Element && (x = x && !E.needBlock, delete E.needBlock), (E.type === j.Document || E.type === j.Element) && x) { v.headWhitespace && p.type === j.Element && p.tagName === "head" && (m = !1); for (var k = 0, S = Array.from(e.childNodes); k < S.length; k++) { var A = S[k], C = nr(A, { doc: r, map: n, blockClass: i, blockSelector: a, skipChild: u, inlineStylesheet: c, maskInputOptions: f, slimDOMOptions: v, recordCanvas: d, preserveWhiteSpace: m }); C && E.childNodes.push(C) } } return E } function Ra(e, t) { var r = t || {}, n = r.blockClass, i = n === void 0 ? "rr-block" : n, a = r.inlineStylesheet, o = a === void 0 ? !0 : a, u = r.recordCanvas, s = u === void 0 ? !1 : u, c = r.blockSelector, l = c === void 0 ? null : c, f = r.maskAllInputs, v = f === void 0 ? !1 : f, h = r.slimDOM, d = h === void 0 ? !1 : h, b = {}, m = v === !0 ? { color: !0, date: !0, "datetime-local": !0, email: !0, month: !0, number: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0, textarea: !0, select: !0 } : v === !1 ? {} : v, p = d === !0 || d === "all" ? { script: !0, comment: !0, headFavicon: !0, headWhitespace: !0, headMetaDescKeywords: d === "all", headMetaSocial: !0, headMetaRobots: !0, headMetaHttpEquiv: !0, headMetaAuthorship: !0, headMetaVerification: !0 } : d === !1 ? {} : d; return [nr(e, { doc: e, map: b, blockClass: i, blockSelector: l, skipChild: !1, inlineStylesheet: o, maskInputOptions: m, slimDOMOptions: p, recordCanvas: s }), b] } var tn = /\/\*[^*]*\*+([^/*][^*]*\*+)*\//g; function Da(e, t) {
			t === void 0 && (t = {}); var r = 1, n = 1; function i(T) {
				var y = T.match(/\n/g); y && (r += y.length); var I = T.lastIndexOf(`
`); n = I === -1 ? n + T.length : T.length - I
			} function a() { var T = { line: r, column: n }; return function (y) { return y.position = new o(T), d(), y } } var o = function () { function T(y) { this.start = y, this.end = { line: r, column: n }, this.source = t.source } return T }(); o.prototype.content = e; var u = []; function s(T) { var y = new Error(t.source + ":" + r + ":" + n + ": " + T); if (y.reason = T, y.filename = t.source, y.line = r, y.column = n, y.source = e, t.silent) u.push(y); else throw y } function c() { var T = v(); return { type: "stylesheet", stylesheet: { source: t.source, rules: T, parsingErrors: u } } } function l() { return h(/^{\s*/) } function f() { return h(/^}/) } function v() { var T, y = []; for (d(), b(y); e.length && e.charAt(0) !== "}" && (T = K() || Z());)T !== !1 && (y.push(T), b(y)); return y } function h(T) { var y = T.exec(e); if (!!y) { var I = y[0]; return i(I), e = e.slice(I.length), y } } function d() { h(/^\s*/) } function b(T) { T === void 0 && (T = []); for (var y; y = m();)y !== !1 && T.push(y), y = m(); return T } function m() { var T = a(); if (!(e.charAt(0) !== "/" || e.charAt(1) !== "*")) { for (var y = 2; e.charAt(y) !== "" && (e.charAt(y) !== "*" || e.charAt(y + 1) !== "/");)++y; if (y += 2, e.charAt(y - 1) === "") return s("End of comment missing"); var I = e.slice(2, y - 2); return n += 2, i(I), e = e.slice(y), n += 2, T({ type: "comment", comment: I }) } } function p() { var T = h(/^([^{]+)/); if (!!T) return ke(T[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g, "").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g, function (y) { return y.replace(/,/g, "\u200C") }).split(/\s*(?![^(]*\)),\s*/).map(function (y) { return y.replace(/\u200C/g, ",") }) } function w() { var T = a(), y = h(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/); if (!!y) { var I = ke(y[0]); if (!h(/^:\s*/)) return s("property missing ':'"); var R = h(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/), z = T({ type: "declaration", property: I.replace(tn, ""), value: R ? ke(R[0]).replace(tn, "") : "" }); return h(/^[;\s]*/), z } } function E() { var T = []; if (!l()) return s("missing '{'"); b(T); for (var y; y = w();)y !== !1 && (T.push(y), b(T)), y = w(); return f() ? T : s("missing '}'") } function x() { for (var T, y = [], I = a(); T = h(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)y.push(T[1]), h(/^,\s*/); if (!!y.length) return I({ type: "keyframe", values: y, declarations: E() }) } function k() { var T = a(), y = h(/^@([-\w]+)?keyframes\s*/); if (!!y) { var I = y[1]; if (y = h(/^([-\w]+)\s*/), !y) return s("@keyframes missing name"); var R = y[1]; if (!l()) return s("@keyframes missing '{'"); for (var z, G = b(); z = x();)G.push(z), G = G.concat(b()); return f() ? T({ type: "keyframes", name: R, vendor: I, keyframes: G }) : s("@keyframes missing '}'") } } function S() { var T = a(), y = h(/^@supports *([^{]+)/); if (!!y) { var I = ke(y[1]); if (!l()) return s("@supports missing '{'"); var R = b().concat(v()); return f() ? T({ type: "supports", supports: I, rules: R }) : s("@supports missing '}'") } } function A() { var T = a(), y = h(/^@host\s*/); if (!!y) { if (!l()) return s("@host missing '{'"); var I = b().concat(v()); return f() ? T({ type: "host", rules: I }) : s("@host missing '}'") } } function C() { var T = a(), y = h(/^@media *([^{]+)/); if (!!y) { var I = ke(y[1]); if (!l()) return s("@media missing '{'"); var R = b().concat(v()); return f() ? T({ type: "media", media: I, rules: R }) : s("@media missing '}'") } } function M() { var T = a(), y = h(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/); if (!!y) return T({ type: "custom-media", name: ke(y[1]), media: ke(y[2]) }) } function D() { var T = a(), y = h(/^@page */); if (!!y) { var I = p() || []; if (!l()) return s("@page missing '{'"); for (var R = b(), z; z = w();)R.push(z), R = R.concat(b()); return f() ? T({ type: "page", selectors: I, declarations: R }) : s("@page missing '}'") } } function $() { var T = a(), y = h(/^@([-\w]+)?document *([^{]+)/); if (!!y) { var I = ke(y[1]), R = ke(y[2]); if (!l()) return s("@document missing '{'"); var z = b().concat(v()); return f() ? T({ type: "document", document: R, vendor: I, rules: z }) : s("@document missing '}'") } } function F() { var T = a(), y = h(/^@font-face\s*/); if (!!y) { if (!l()) return s("@font-face missing '{'"); for (var I = b(), R; R = w();)I.push(R), I = I.concat(b()); return f() ? T({ type: "font-face", declarations: I }) : s("@font-face missing '}'") } } var U = V("import"), _ = V("charset"), te = V("namespace"); function V(T) { var y = new RegExp("^@" + T + "\\s*([^;]+);"); return function () { var I = a(), R = h(y); if (!!R) { var z = { type: T }; return z[T] = R[1].trim(), I(z) } } } function K() { if (e[0] === "@") return k() || C() || M() || S() || U() || _() || te() || $() || D() || A() || F() } function Z() { var T = a(), y = p(); return y ? (b(), T({ type: "rule", selectors: y, declarations: E() })) : s("selector missing") } return Yt(c())
		} function ke(e) { return e ? e.replace(/^\s+|\s+$/g, "") : "" } function Yt(e, t) { for (var r = e && typeof e.type == "string", n = r ? e : t, i = 0, a = Object.keys(e); i < a.length; i++) { var o = a[i], u = e[o]; Array.isArray(u) ? u.forEach(function (s) { Yt(s, n) }) : u && typeof u == "object" && Yt(u, n) } return r && Object.defineProperty(e, "parent", { configurable: !0, writable: !0, enumerable: !1, value: t || null }), e } var rn = { script: "noscript", altglyph: "altGlyph", altglyphdef: "altGlyphDef", altglyphitem: "altGlyphItem", animatecolor: "animateColor", animatemotion: "animateMotion", animatetransform: "animateTransform", clippath: "clipPath", feblend: "feBlend", fecolormatrix: "feColorMatrix", fecomponenttransfer: "feComponentTransfer", fecomposite: "feComposite", feconvolvematrix: "feConvolveMatrix", fediffuselighting: "feDiffuseLighting", fedisplacementmap: "feDisplacementMap", fedistantlight: "feDistantLight", fedropshadow: "feDropShadow", feflood: "feFlood", fefunca: "feFuncA", fefuncb: "feFuncB", fefuncg: "feFuncG", fefuncr: "feFuncR", fegaussianblur: "feGaussianBlur", feimage: "feImage", femerge: "feMerge", femergenode: "feMergeNode", femorphology: "feMorphology", feoffset: "feOffset", fepointlight: "fePointLight", fespecularlighting: "feSpecularLighting", fespotlight: "feSpotLight", fetile: "feTile", feturbulence: "feTurbulence", foreignobject: "foreignObject", glyphref: "glyphRef", lineargradient: "linearGradient", radialgradient: "radialGradient" }; function Ba(e) { var t = rn[e.tagName] ? rn[e.tagName] : e.tagName; return t === "link" && e.attributes._cssText && (t = "style"), t } var nn = /([^\\]):hover/g; function an(e) { var t = Da(e, { silent: !0 }); return t.stylesheet && t.stylesheet.rules.forEach(function (r) { "selectors" in r && (r.selectors || []).forEach(function (n) { if (nn.test(n)) { var i = n.replace(nn, "$1.\\:hover"); e = e.replace(n, n + ", " + i) } }) }), e } function La(e, t) { var r = t.doc, n = t.hackCss; switch (e.type) { case j.Document: return r.implementation.createDocument(null, "", null); case j.DocumentType: return r.implementation.createDocumentType(e.name || "html", e.publicId, e.systemId); case j.Element: var i = Ba(e), a; e.isSVG ? a = r.createElementNS("http://www.w3.org/2000/svg", i) : a = r.createElement(i); var o = function (s) { if (!e.attributes.hasOwnProperty(s)) return "continue"; var c = e.attributes[s]; if (c = typeof c == "boolean" || typeof c == "number" ? "" : c, s.startsWith("rr_")) { if (i === "canvas" && s === "rr_dataURL") { var m = document.createElement("img"); m.src = c, m.onload = function () { var p = a.getContext("2d"); p && p.drawImage(m, 0, 0, m.width, m.height) } } if (s === "rr_width" && (a.style.width = c), s === "rr_height" && (a.style.height = c), s === "rr_mediaState") switch (c) { case "played": a.play(); case "paused": a.pause(); break } } else { var l = i === "textarea" && s === "value", f = i === "style" && s === "_cssText"; if (f && n && (c = an(c)), l || f) { for (var v = r.createTextNode(c), h = 0, d = Array.from(a.childNodes); h < d.length; h++) { var b = d[h]; b.nodeType === a.TEXT_NODE && a.removeChild(b) } return a.appendChild(v), "continue" } if (i === "iframe" && s === "src") return "continue"; try { e.isSVG && s === "xlink:href" ? a.setAttributeNS("http://www.w3.org/1999/xlink", s, c) : s === "onload" || s === "onclick" || s.substring(0, 7) === "onmouse" ? a.setAttribute("_" + s, c) : a.setAttribute(s, c) } catch { } } }; for (var u in e.attributes) o(u); return a; case j.Text: return r.createTextNode(e.isStyle && n ? an(e.textContent) : e.textContent); case j.CDATA: return r.createCDATASection(e.textContent); case j.Comment: return r.createComment(e.textContent); default: return null } } function ir(e, t) { var r = t.doc, n = t.map, i = t.skipChild, a = i === void 0 ? !1 : i, o = t.hackCss, u = o === void 0 ? !0 : o, s = La(e, { doc: r, hackCss: u }); if (!s) return null; if (e.type === j.Document && (r.close(), r.open(), s = r), s.__sn = e, n[e.id] = s, (e.type === j.Document || e.type === j.Element) && !a) for (var c = 0, l = e.childNodes; c < l.length; c++) { var f = l[c], v = ir(f, { doc: r, map: n, skipChild: !1, hackCss: u }); v ? s.appendChild(v) : console.warn("Failed to rebuild", f) } return s } function Pa(e, t) { function r(i) { t(i) } for (var n in e) e[n] && r(e[n]) } function qa(e) { var t = e.__sn; if (t.type === j.Element) { var r = e; for (var n in t.attributes) if (!!(t.attributes.hasOwnProperty(n) && n.startsWith("rr_"))) { var i = t.attributes[n]; n === "rr_scrollLeft" && (r.scrollLeft = i), n === "rr_scrollTop" && (r.scrollTop = i) } } } function _a(e, t) { var r = t.doc, n = t.onVisit, i = t.hackCss, a = i === void 0 ? !0 : i, o = {}, u = ir(e, { doc: r, map: o, skipChild: !1, hackCss: a }); return Pa(o, function (s) { n && n(s), qa(s) }), [u, o] } (function (e) { e[e.DomContentLoaded = 0] = "DomContentLoaded", e[e.Load = 1] = "Load", e[e.FullSnapshot = 2] = "FullSnapshot", e[e.IncrementalSnapshot = 3] = "IncrementalSnapshot", e[e.Meta = 4] = "Meta", e[e.Custom = 5] = "Custom" })(g.EventType || (g.EventType = {})); (function (e) { e[e.Mutation = 0] = "Mutation", e[e.MouseMove = 1] = "MouseMove", e[e.MouseInteraction = 2] = "MouseInteraction", e[e.Scroll = 3] = "Scroll", e[e.ViewportResize = 4] = "ViewportResize", e[e.Input = 5] = "Input", e[e.TouchMove = 6] = "TouchMove", e[e.MediaInteraction = 7] = "MediaInteraction", e[e.StyleSheetRule = 8] = "StyleSheetRule", e[e.CanvasMutation = 9] = "CanvasMutation", e[e.Font = 10] = "Font", e[e.Log = 11] = "Log" })(g.IncrementalSource || (g.IncrementalSource = {})); (function (e) { e[e.MouseUp = 0] = "MouseUp", e[e.MouseDown = 1] = "MouseDown", e[e.Click = 2] = "Click", e[e.ContextMenu = 3] = "ContextMenu", e[e.DblClick = 4] = "DblClick", e[e.Focus = 5] = "Focus", e[e.Blur = 6] = "Blur", e[e.TouchStart = 7] = "TouchStart", e[e.TouchMove_Departed = 8] = "TouchMove_Departed", e[e.TouchEnd = 9] = "TouchEnd" })(g.MouseInteractions || (g.MouseInteractions = {})); var ze; (function (e) { e[e.Play = 0] = "Play", e[e.Pause = 1] = "Pause" })(ze || (ze = {})); (function (e) { e.Start = "start", e.Pause = "pause", e.Resume = "resume", e.Resize = "resize", e.Finish = "finish", e.FullsnapshotRebuilded = "fullsnapshot-rebuilded", e.LoadStylesheetStart = "load-stylesheet-start", e.LoadStylesheetEnd = "load-stylesheet-end", e.SkipStart = "skip-start", e.SkipEnd = "skip-end", e.MouseInteraction = "mouse-interaction", e.EventCast = "event-cast", e.CustomEvent = "custom-event", e.Flush = "flush", e.StateChange = "state-change" })(g.ReplayerEvents || (g.ReplayerEvents = {})); function ge(e, t, r) { r === void 0 && (r = document); var n = { capture: !0, passive: !0 }; return r.addEventListener(e, t, n), function () { return r.removeEventListener(e, t, n) } } var N = { map: {}, getId: function (e) { return e.__sn ? e.__sn.id : -1 }, getNode: function (e) { return N.map[e] || null }, removeNodeFromMap: function (e) { var t = e.__sn && e.__sn.id; delete N.map[t], e.childNodes && e.childNodes.forEach(function (r) { return N.removeNodeFromMap(r) }) }, has: function (e) { return N.map.hasOwnProperty(e) } }; function tt(e, t, r) { r === void 0 && (r = {}); var n = null, i = 0; return function (a) { var o = Date.now(); !i && r.leading === !1 && (i = o); var u = t - (o - i), s = this, c = arguments; u <= 0 || u > t ? (n && (window.clearTimeout(n), n = null), i = o, e.apply(s, c)) : !n && r.trailing !== !1 && (n = window.setTimeout(function () { i = r.leading === !1 ? 0 : Date.now(), n = null, e.apply(s, c) }, u)) } } function gt(e, t, r, n, i) { i === void 0 && (i = window); var a = i.Object.getOwnPropertyDescriptor(e, t); return i.Object.defineProperty(e, t, n ? r : { set: function (o) { var u = this; setTimeout(function () { r.set.call(u, o) }, 0), a && a.set && a.set.call(this, o) } }), function () { return gt(e, t, a || {}, !0) } } function bt(e, t, r) { try { if (!(t in e)) return function () { }; var n = e[t], i = r(n); return typeof i == "function" && (i.prototype = i.prototype || {}, Object.defineProperties(i, { __rrweb_original__: { enumerable: !1, value: n } })), e[t] = i, function () { e[t] = n } } catch { return function () { } } } function ar() { return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight } function or() { return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth } function ue(e, t) { if (!e) return !1; if (e.nodeType === e.ELEMENT_NODE) { var r = !1; return typeof t == "string" ? r = e.classList.contains(t) : e.classList.forEach(function (n) { t.test(n) && (r = !0) }), r || ue(e.parentNode, t) } return e.nodeType === e.TEXT_NODE, ue(e.parentNode, t) } function dt(e) { return "__sn" in e ? e.__sn.id === et : !1 } function sr(e) { var t = N.getId(e); return N.has(t) ? e.parentNode && e.parentNode.nodeType === e.DOCUMENT_NODE ? !1 : e.parentNode ? sr(e.parentNode) : !0 : !0 } function mt(e) { return Boolean(e.changedTouches) } function ur(e) { e === void 0 && (e = window), "NodeList" in e && !e.NodeList.prototype.forEach && (e.NodeList.prototype.forEach = Array.prototype.forEach), "DOMTokenList" in e && !e.DOMTokenList.prototype.forEach && (e.DOMTokenList.prototype.forEach = Array.prototype.forEach) } function wn(e) { switch (e.type) { case g.EventType.DomContentLoaded: case g.EventType.Load: case g.EventType.Custom: return !1; case g.EventType.FullSnapshot: case g.EventType.Meta: return !0 }switch (e.data.source) { case g.IncrementalSource.MouseMove: case g.IncrementalSource.MouseInteraction: case g.IncrementalSource.TouchMove: case g.IncrementalSource.MediaInteraction: return !1; case g.IncrementalSource.ViewportResize: case g.IncrementalSource.StyleSheetRule: case g.IncrementalSource.Scroll: case g.IncrementalSource.Input: return !0 }return !0 } var Cn = function () { function e() { this.reset() } return e.prototype.add = function (t) { var r = this.indexes.get(t.parentId), n = { id: t.node.id, mutation: t, children: [], texts: [], attributes: [] }; r ? (n.parent = r, r.children[n.id] = n) : this.tree[n.id] = n, this.indexes.set(n.id, n) }, e.prototype.remove = function (t) { var r = this, n = this.indexes.get(t.parentId), i = this.indexes.get(t.id), a = function (u) { r.removeIdSet.add(u); var s = N.getNode(u); s?.childNodes.forEach(function (c) { "__sn" in c && a(c.__sn.id) }) }, o = function (u) { r.removeIdSet.add(u.id), Object.values(u.children).forEach(function (l) { return o(l) }); var s = r.indexes.get(u.id); if (s) { var c = s.parent; c && (delete s.parent, delete c.children[s.id], r.indexes.delete(t.id)) } }; i ? n ? (delete i.parent, delete n.children[i.id], this.indexes.delete(t.id), o(i)) : (delete this.tree[i.id], this.indexes.delete(i.id), o(i)) : (this.removeNodeMutations.push(t), a(t.id)) }, e.prototype.text = function (t) { var r = this.indexes.get(t.id); r ? r.texts.push(t) : this.textMutations.push(t) }, e.prototype.attribute = function (t) { var r = this.indexes.get(t.id); r ? r.attributes.push(t) : this.attributeMutations.push(t) }, e.prototype.scroll = function (t) { this.scrollMap.set(t.id, t) }, e.prototype.input = function (t) { this.inputMap.set(t.id, t) }, e.prototype.flush = function () { var t, r, n, i, a = this, o = this, u = o.tree, s = o.removeNodeMutations, c = o.textMutations, l = o.attributeMutations, f = { source: g.IncrementalSource.Mutation, removes: s, texts: c, attributes: l, adds: [] }, v = function (x, k) { k && a.removeIdSet.add(x.id), f.texts = f.texts.concat(k ? [] : x.texts).filter(function (S) { return !a.removeIdSet.has(S.id) }), f.attributes = f.attributes.concat(k ? [] : x.attributes).filter(function (S) { return !a.removeIdSet.has(S.id) }), !a.removeIdSet.has(x.id) && !a.removeIdSet.has(x.mutation.parentId) && !k ? (f.adds.push(x.mutation), x.children && Object.values(x.children).forEach(function (S) { return v(S, !1) })) : Object.values(x.children).forEach(function (S) { return v(S, !0) }) }; Object.values(u).forEach(function (x) { return v(x, !1) }); try { for (var h = re(this.scrollMap.keys()), d = h.next(); !d.done; d = h.next()) { var b = d.value; this.removeIdSet.has(b) && this.scrollMap.delete(b) } } catch (x) { t = { error: x } } finally { try { d && !d.done && (r = h.return) && r.call(h) } finally { if (t) throw t.error } } try { for (var m = re(this.inputMap.keys()), p = m.next(); !p.done; p = m.next()) { var b = p.value; this.removeIdSet.has(b) && this.inputMap.delete(b) } } catch (x) { n = { error: x } } finally { try { p && !p.done && (i = m.return) && i.call(m) } finally { if (n) throw n.error } } var w = new Map(this.scrollMap), E = new Map(this.inputMap); return this.reset(), { mutationData: f, scrollMap: w, inputMap: E } }, e.prototype.reset = function () { this.tree = [], this.indexes = new Map, this.removeNodeMutations = [], this.textMutations = [], this.attributeMutations = [], this.removeIdSet = new Set, this.scrollMap = new Map, this.inputMap = new Map }, e }(); function Sn(e) { var t, r, n = {}, i = function (d, b) { var m = { value: d, parent: b, children: [] }; return n[d.node.id] = m, m }, a = []; try { for (var o = re(e), u = o.next(); !u.done; u = o.next()) { var s = u.value, c = s.nextId, l = s.parentId; if (c && c in n) { var f = n[c]; if (f.parent) { var v = f.parent.children.indexOf(f); f.parent.children.splice(v, 0, i(s, f.parent)) } else { var v = a.indexOf(f); a.splice(v, 0, i(s, null)) } continue } if (l in n) { var h = n[l]; h.children.push(i(s, h)); continue } a.push(i(s, null)) } } catch (d) { t = { error: d } } finally { try { u && !u.done && (r = o.return) && r.call(o) } finally { if (t) throw t.error } } return a } function cr(e, t) { t(e.value); for (var r = e.children.length - 1; r >= 0; r--)cr(e.children[r], t) } var Ua = Object.freeze({ __proto__: null, on: ge, mirror: N, throttle: tt, hookSetter: gt, patch: bt, getWindowHeight: ar, getWindowWidth: or, isBlocked: ue, isIgnored: dt, isAncestorRemoved: sr, isTouchEvent: mt, polyfill: ur, needCastInSyncMode: wn, TreeIndex: Cn, queueToResolveTrees: Sn, iterateResolveTree: cr }); function on(e) { return "__ln" in e } var Ha = function () { function e() { this.length = 0, this.head = null } return e.prototype.get = function (t) { if (t >= this.length) throw new Error("Position outside of list range"); for (var r = this.head, n = 0; n < t; n++)r = r?.next || null; return r }, e.prototype.addNode = function (t) { var r = { value: t, previous: null, next: null }; if (t.__ln = r, t.previousSibling && on(t.previousSibling)) { var n = t.previousSibling.__ln.next; r.next = n, r.previous = t.previousSibling.__ln, t.previousSibling.__ln.next = r, n && (n.previous = r) } else if (t.nextSibling && on(t.nextSibling)) { var n = t.nextSibling.__ln.previous; r.previous = n, r.next = t.nextSibling.__ln, t.nextSibling.__ln.previous = r, n && (n.next = r) } else this.head && (this.head.previous = r), r.next = this.head, this.head = r; this.length++ }, e.prototype.removeNode = function (t) { var r = t.__ln; !this.head || (r.previous ? (r.previous.next = r.next, r.next && (r.next.previous = r.previous)) : (this.head = r.next, this.head && (this.head.previous = null)), t.__ln && delete t.__ln, this.length--) }, e }(), sn = function (e, t) { return e + "@" + t }; function un(e) { return "__sn" in e } var za = function () { function e() { var t = this; this.frozen = !1, this.texts = [], this.attributes = [], this.removes = [], this.mapRemoves = [], this.movedMap = {}, this.addedSet = new Set, this.movedSet = new Set, this.droppedSet = new Set, this.processMutations = function (r) { r.forEach(t.processMutation), t.frozen || t.emit() }, this.emit = function () { for (var r, n, i, a, o = [], u = new Ha, s = function (S) { for (var A = S, C = et; C === et;)A = A && A.nextSibling, C = A && N.getId(A); return C === -1 && ue(S.nextSibling, t.blockClass) && (C = null), C }, c = function (S) { if (!(!S.parentNode || !document.contains(S))) { var A = N.getId(S.parentNode), C = s(S); if (A === -1 || C === -1) return u.addNode(S); var M = nr(S, { doc: document, map: N.map, blockClass: t.blockClass, blockSelector: t.blockSelector, skipChild: !0, inlineStylesheet: t.inlineStylesheet, maskInputOptions: t.maskInputOptions, slimDOMOptions: t.slimDOMOptions, recordCanvas: t.recordCanvas }); M && o.push({ parentId: A, nextId: C, node: M }) } }; t.mapRemoves.length;)N.removeNodeFromMap(t.mapRemoves.shift()); try { for (var l = re(t.movedSet), f = l.next(); !f.done; f = l.next()) { var v = f.value; Jt(t.removes, v) && !t.movedSet.has(v.parentNode) || c(v) } } catch (S) { r = { error: S } } finally { try { f && !f.done && (n = l.return) && n.call(l) } finally { if (r) throw r.error } } try { for (var h = re(t.addedSet), d = h.next(); !d.done; d = h.next()) { var v = d.value; !Gt(t.droppedSet, v) && !Jt(t.removes, v) || Gt(t.movedSet, v) ? c(v) : t.droppedSet.add(v) } } catch (S) { i = { error: S } } finally { try { d && !d.done && (a = h.return) && a.call(h) } finally { if (i) throw i.error } } for (var b = null; u.length;) { var m = null; if (b) { var p = N.getId(b.value.parentNode), w = s(b.value); p !== -1 && w !== -1 && (m = b) } if (!m) for (var E = u.length - 1; E >= 0; E--) { var x = u.get(E), p = N.getId(x.value.parentNode), w = s(x.value); if (p !== -1 && w !== -1) { m = x; break } } if (!m) { for (; u.head;)u.removeNode(u.head.value); break } b = m.previous, u.removeNode(m.value), c(m.value) } var k = { texts: t.texts.map(function (S) { return { id: N.getId(S.node), value: S.value } }).filter(function (S) { return N.has(S.id) }), attributes: t.attributes.map(function (S) { return { id: N.getId(S.node), attributes: S.attributes } }).filter(function (S) { return N.has(S.id) }), removes: t.removes, adds: o }; !k.texts.length && !k.attributes.length && !k.removes.length && !k.adds.length || (t.texts = [], t.attributes = [], t.removes = [], t.addedSet = new Set, t.movedSet = new Set, t.droppedSet = new Set, t.movedMap = {}, t.emissionCallback(k)) }, this.processMutation = function (r) { if (!dt(r.target)) switch (r.type) { case "characterData": { var n = r.target.textContent; !ue(r.target, t.blockClass) && n !== r.oldValue && t.texts.push({ value: n, node: r.target }); break } case "attributes": { var n = r.target.getAttribute(r.attributeName); if (ue(r.target, t.blockClass) || n === r.oldValue) return; var i = t.attributes.find(function (o) { return o.node === r.target }); i || (i = { node: r.target, attributes: {} }, t.attributes.push(i)), i.attributes[r.attributeName] = bn(document, r.attributeName, n); break } case "childList": { r.addedNodes.forEach(function (a) { return t.genAdds(a, r.target) }), r.removedNodes.forEach(function (a) { var o = N.getId(a), u = N.getId(r.target); ue(a, t.blockClass) || ue(r.target, t.blockClass) || dt(a) || (t.addedSet.has(a) ? (Kt(t.addedSet, a), t.droppedSet.add(a)) : t.addedSet.has(r.target) && o === -1 || sr(r.target) || (t.movedSet.has(a) && t.movedMap[sn(o, u)] ? Kt(t.movedSet, a) : t.removes.push({ parentId: u, id: o })), t.mapRemoves.push(a)) }); break } } }, this.genAdds = function (r, n) { if (!ue(r, t.blockClass) && !(n && ue(n, t.blockClass))) { if (un(r)) { if (dt(r)) return; t.movedSet.add(r); var i = null; n && un(n) && (i = n.__sn.id), i && (t.movedMap[sn(r.__sn.id, i)] = !0) } else t.addedSet.add(r), t.droppedSet.delete(r); r.childNodes.forEach(function (a) { return t.genAdds(a) }) } } } return e.prototype.init = function (t, r, n, i, a, o, u) { this.blockClass = r, this.blockSelector = n, this.inlineStylesheet = i, this.maskInputOptions = a, this.recordCanvas = o, this.slimDOMOptions = u, this.emissionCallback = t }, e.prototype.freeze = function () { this.frozen = !0 }, e.prototype.unfreeze = function () { this.frozen = !1 }, e.prototype.isFrozen = function () { return this.frozen }, e }(); function Kt(e, t) { e.delete(t), t.childNodes.forEach(function (r) { return Kt(e, r) }) } function Jt(e, t) { var r = t.parentNode; if (!r) return !1; var n = N.getId(r); return e.some(function (i) { return i.id === n }) ? !0 : Jt(e, r) } function Gt(e, t) { var r = t.parentNode; return r ? e.has(r) ? !0 : Gt(e, r) : !1 } function Va(e) { if (!e || !e.outerHTML) return ""; for (var t = ""; e.parentElement;) { var r = e.localName; if (!r) break; r = r.toLowerCase(); var n = e.parentElement, i = []; if (n.children && n.children.length > 0) for (var a = 0; a < n.children.length; a++) { var o = n.children[a]; o.localName && o.localName.toLowerCase && o.localName.toLowerCase() === r && i.push(o) } i.length > 1 && (r += ":eq(" + i.indexOf(e) + ")"), t = r + (t ? ">" + t : ""), e = n } return t } function _t(e, t) { var r = { numOfKeysLimit: 50 }; Object.assign(r, t); var n = [], i = []; return JSON.stringify(e, function (u, s) { if (n.length > 0) { var c = n.indexOf(this); ~c ? n.splice(c + 1) : n.push(this), ~c ? i.splice(c, 1 / 0, u) : i.push(u), ~n.indexOf(s) && (n[0] === s ? s = "[Circular ~]" : s = "[Circular ~." + i.slice(0, n.indexOf(s)).join(".") + "]") } else n.push(s); if (s == null) return s; if (a(s)) return o(s); if (s instanceof Event) { var l = {}; for (var f in s) { var v = s[f]; Array.isArray(v) ? l[f] = Va(v.length ? v[0] : null) : l[f] = v } return l } else if (s instanceof Node) return s instanceof HTMLElement ? s ? s.outerHTML : "" : s.nodeName; return s }); function a(u) { return typeof u == "object" && Object.keys(u).length > r.numOfKeysLimit || typeof u == "function" } function o(u) { var s = u.toString(); return r.stringLengthLimit && s.length > r.stringLengthLimit && (s = s.slice(0, r.stringLengthLimit) + "..."), s } } var ye = new za; function Wa(e, t, r, n, i, a, o) { ye.init(e, t, r, n, i, a, o); var u = new MutationObserver(ye.processMutations.bind(ye)); return u.observe(document, { attributes: !0, attributeOldValue: !0, characterData: !0, characterDataOldValue: !0, childList: !0, subtree: !0 }), u } function Xa(e, t) { if (t.mousemove === !1) return function () { }; var r = typeof t.mousemove == "number" ? t.mousemove : 50, n = [], i, a = tt(function (s) { var c = Date.now() - i; e(n.map(function (l) { return l.timeOffset -= c, l }), s ? g.IncrementalSource.TouchMove : g.IncrementalSource.MouseMove), n = [], i = null }, 500), o = tt(function (s) { var c = s.target, l = mt(s) ? s.changedTouches[0] : s, f = l.clientX, v = l.clientY; i || (i = Date.now()), n.push({ x: f, y: v, id: N.getId(c), timeOffset: Date.now() - i }), a(mt(s)) }, r, { trailing: !1 }), u = [ge("mousemove", o), ge("touchmove", o)]; return function () { u.forEach(function (s) { return s() }) } } function ja(e, t, r) { if (r.mouseInteraction === !1) return function () { }; var n = r.mouseInteraction === !0 || r.mouseInteraction === void 0 ? {} : r.mouseInteraction, i = [], a = function (o) { return function (u) { if (!ue(u.target, t)) { var s = N.getId(u.target), c = mt(u) ? u.changedTouches[0] : u, l = c.clientX, f = c.clientY; e({ type: g.MouseInteractions[o], id: s, x: l, y: f }) } } }; return Object.keys(g.MouseInteractions).filter(function (o) { return Number.isNaN(Number(o)) && !o.endsWith("_Departed") && n[o] !== !1 }).forEach(function (o) { var u = o.toLowerCase(), s = a(o); i.push(ge(u, s)) }), function () { i.forEach(function (o) { return o() }) } } function Ya(e, t, r) { var n = tt(function (i) { if (!(!i.target || ue(i.target, t))) { var a = N.getId(i.target); if (i.target === document) { var o = document.scrollingElement || document.documentElement; e({ id: a, x: o.scrollLeft, y: o.scrollTop }) } else e({ id: a, x: i.target.scrollLeft, y: i.target.scrollTop }) } }, r.scroll || 100); return ge("scroll", n) } function Ka(e) { var t = -1, r = -1, n = tt(function () { var i = ar(), a = or(); (t !== i || r != a) && (e({ width: Number(a), height: Number(i) }), t = i, r = a) }, 200); return ge("resize", n, window) } var Ja = ["INPUT", "TEXTAREA", "SELECT"], cn = new WeakMap; function Ga(e, t, r, n, i, a) { function o(v) { var h = v.target; if (!(!h || !h.tagName || Ja.indexOf(h.tagName) < 0 || ue(h, t))) { var d = h.type; if (!(d === "password" || h.classList.contains(r))) { var b = h.value, m = !1; d === "radio" || d === "checkbox" ? m = h.checked : (n[h.tagName.toLowerCase()] || n[d]) && (i ? b = i(b) : b = "*".repeat(b.length)), u(h, { text: b, isChecked: m }); var p = h.name; d === "radio" && p && m && document.querySelectorAll('input[type="radio"][name="' + p + '"]').forEach(function (w) { w !== h && u(w, { text: w.value, isChecked: !m }) }) } } } function u(v, h) { var d = cn.get(v); if (!d || d.text !== h.text || d.isChecked !== h.isChecked) { cn.set(v, h); var b = N.getId(v); e(Y(Y({}, h), { id: b })) } } var s = a.input === "last" ? ["change"] : ["input", "change"], c = s.map(function (v) { return ge(v, o) }), l = Object.getOwnPropertyDescriptor(HTMLInputElement.prototype, "value"), f = [[HTMLInputElement.prototype, "value"], [HTMLInputElement.prototype, "checked"], [HTMLSelectElement.prototype, "value"], [HTMLTextAreaElement.prototype, "value"], [HTMLSelectElement.prototype, "selectedIndex"]]; return l && l.set && c.push.apply(c, H(f.map(function (v) { return gt(v[0], v[1], { set: function () { o({ target: this }) } }) }))), function () { c.forEach(function (v) { return v() }) } } function $a(e) { var t = CSSStyleSheet.prototype.insertRule; CSSStyleSheet.prototype.insertRule = function (n, i) { var a = N.getId(this.ownerNode); return a !== -1 && e({ id: a, adds: [{ rule: n, index: i }] }), t.apply(this, arguments) }; var r = CSSStyleSheet.prototype.deleteRule; return CSSStyleSheet.prototype.deleteRule = function (n) { var i = N.getId(this.ownerNode); return i !== -1 && e({ id: i, removes: [{ index: n }] }), r.apply(this, arguments) }, function () { CSSStyleSheet.prototype.insertRule = t, CSSStyleSheet.prototype.deleteRule = r } } function Qa(e, t) { var r = function (i) { return function (a) { var o = a.target; !o || ue(o, t) || e({ type: i === "play" ? ze.Play : ze.Pause, id: N.getId(o) }) } }, n = [ge("play", r("play")), ge("pause", r("pause"))]; return function () { n.forEach(function (i) { return i() }) } } function Za(e, t) { var r, n, i = Object.getOwnPropertyNames(CanvasRenderingContext2D.prototype), a = [], o = function (l) { try { if (typeof CanvasRenderingContext2D.prototype[l] != "function") return "continue"; var f = bt(CanvasRenderingContext2D.prototype, l, function (h) { return function () { for (var d = this, b = [], m = 0; m < arguments.length; m++)b[m] = arguments[m]; return ue(this.canvas, t) || setTimeout(function () { var p = H(b); l === "drawImage" && p[0] && p[0] instanceof HTMLCanvasElement && (p[0] = p[0].toDataURL()), e({ id: N.getId(d.canvas), property: l, args: p }) }, 0), h.apply(this, b) } }); a.push(f) } catch { var v = gt(CanvasRenderingContext2D.prototype, l, { set: function (d) { e({ id: N.getId(this.canvas), property: l, args: [d], setter: !0 }) } }); a.push(v) } }; try { for (var u = re(i), s = u.next(); !s.done; s = u.next()) { var c = s.value; o(c) } } catch (l) { r = { error: l } } finally { try { s && !s.done && (n = u.return) && n.call(u) } finally { if (r) throw r.error } } return function () { a.forEach(function (l) { return l() }) } } function eo(e) { var t = [], r = new WeakMap, n = FontFace; window.FontFace = function (o, u, s) { var c = new n(o, u, s); return r.set(c, { family: o, buffer: typeof u != "string", descriptors: s, fontSource: typeof u == "string" ? u : JSON.stringify(Array.from(new Uint8Array(u))) }), c }; var i = bt(document.fonts, "add", function (a) { return function (o) { return setTimeout(function () { var u = r.get(o); u && (e(u), r.delete(o)) }, 0), a.apply(this, [o]) } }); return t.push(function () { window.FonFace = n }), t.push(i), function () { t.forEach(function (a) { return a() }) } } function to(e, t) { var r, n, i = this, a = t.logger; if (!a) return function () { }; var o = 0, u = []; if (t.level.includes("error") && window) { var s = window.onerror; window.onerror = function () { for (var d = [], b = 0; b < arguments.length; b++)d[b] = arguments[b]; s && s.apply(i, d); var m = []; d[d.length - 1] instanceof Error && (m = h(d[d.length - 1].stack, 0)); var p = [_t(d[0], t.stringifyOptions)]; e({ level: "error", trace: m, payload: p }) }, u.push(function () { window.onerror = s }) } try { for (var c = re(t.level), l = c.next(); !l.done; l = c.next()) { var f = l.value; u.push(v(a, f)) } } catch (d) { r = { error: d } } finally { try { l && !l.done && (n = c.return) && n.call(c) } finally { if (r) throw r.error } } return function () { u.forEach(function (d) { return d() }) }; function v(d, b) { var m = this; return d[b] ? bt(d, b, function (p) { return function () { for (var w = [], E = 0; E < arguments.length; E++)w[E] = arguments[E]; p.apply(m, w); try { var x = h(new Error().stack), k = w.map(function (S) { return _t(S, t.stringifyOptions) }); o++, o < t.lengthThreshold ? e({ level: b, trace: x, payload: k }) : o === t.lengthThreshold && e({ level: "warn", trace: [], payload: [_t("The number of log records reached the threshold.")] }) } catch (S) { p.apply(void 0, H(["rrweb logger error:", S], w)) } } }) : function () { } } function h(d, b) { b === void 0 && (b = 1); var m = []; return d && (m = d.split("at").splice(1 + b).map(function (p) { return p.trim() })), m } } function ro(e, t) { var r = e.mutationCb, n = e.mousemoveCb, i = e.mouseInteractionCb, a = e.scrollCb, o = e.viewportResizeCb, u = e.inputCb, s = e.mediaInteractionCb, c = e.styleSheetRuleCb, l = e.canvasMutationCb, f = e.fontCb, v = e.logCb; e.mutationCb = function () { for (var h = [], d = 0; d < arguments.length; d++)h[d] = arguments[d]; t.mutation && t.mutation.apply(t, H(h)), r.apply(void 0, H(h)) }, e.mousemoveCb = function () { for (var h = [], d = 0; d < arguments.length; d++)h[d] = arguments[d]; t.mousemove && t.mousemove.apply(t, H(h)), n.apply(void 0, H(h)) }, e.mouseInteractionCb = function () { for (var h = [], d = 0; d < arguments.length; d++)h[d] = arguments[d]; t.mouseInteraction && t.mouseInteraction.apply(t, H(h)), i.apply(void 0, H(h)) }, e.scrollCb = function () { for (var h = [], d = 0; d < arguments.length; d++)h[d] = arguments[d]; t.scroll && t.scroll.apply(t, H(h)), a.apply(void 0, H(h)) }, e.viewportResizeCb = function () { for (var h = [], d = 0; d < arguments.length; d++)h[d] = arguments[d]; t.viewportResize && t.viewportResize.apply(t, H(h)), o.apply(void 0, H(h)) }, e.inputCb = function () { for (var h = [], d = 0; d < arguments.length; d++)h[d] = arguments[d]; t.input && t.input.apply(t, H(h)), u.apply(void 0, H(h)) }, e.mediaInteractionCb = function () { for (var h = [], d = 0; d < arguments.length; d++)h[d] = arguments[d]; t.mediaInteaction && t.mediaInteaction.apply(t, H(h)), s.apply(void 0, H(h)) }, e.styleSheetRuleCb = function () { for (var h = [], d = 0; d < arguments.length; d++)h[d] = arguments[d]; t.styleSheetRule && t.styleSheetRule.apply(t, H(h)), c.apply(void 0, H(h)) }, e.canvasMutationCb = function () { for (var h = [], d = 0; d < arguments.length; d++)h[d] = arguments[d]; t.canvasMutation && t.canvasMutation.apply(t, H(h)), l.apply(void 0, H(h)) }, e.fontCb = function () { for (var h = [], d = 0; d < arguments.length; d++)h[d] = arguments[d]; t.font && t.font.apply(t, H(h)), f.apply(void 0, H(h)) }, e.logCb = function () { for (var h = [], d = 0; d < arguments.length; d++)h[d] = arguments[d]; t.log && t.log.apply(t, H(h)), v.apply(void 0, H(h)) } } function no(e, t) { t === void 0 && (t = {}), ro(e, t); var r = Wa(e.mutationCb, e.blockClass, e.blockSelector, e.inlineStylesheet, e.maskInputOptions, e.recordCanvas, e.slimDOMOptions), n = Xa(e.mousemoveCb, e.sampling), i = ja(e.mouseInteractionCb, e.blockClass, e.sampling), a = Ya(e.scrollCb, e.blockClass, e.sampling), o = Ka(e.viewportResizeCb), u = Ga(e.inputCb, e.blockClass, e.ignoreClass, e.maskInputOptions, e.maskInputFn, e.sampling), s = Qa(e.mediaInteractionCb, e.blockClass), c = $a(e.styleSheetRuleCb), l = e.recordCanvas ? Za(e.canvasMutationCb, e.blockClass) : function () { }, f = e.collectFonts ? eo(e.fontCb) : function () { }, v = e.logOptions ? to(e.logCb, e.logOptions) : function () { }; return function () { r.disconnect(), n(), i(), a(), o(), u(), s(), c(), l(), f(), v() } } function se(e) { return Y(Y({}, e), { timestamp: Date.now() }) } var ae; function nt(e) { e === void 0 && (e = {}); var t = e.emit, r = e.checkoutEveryNms, n = e.checkoutEveryNth, i = e.blockClass, a = i === void 0 ? "rr-block" : i, o = e.blockSelector, u = o === void 0 ? null : o, s = e.ignoreClass, c = s === void 0 ? "rr-ignore" : s, l = e.inlineStylesheet, f = l === void 0 ? !0 : l, v = e.maskAllInputs, h = e.maskInputOptions, d = e.slimDOMOptions, b = e.maskInputFn, m = e.hooks, p = e.packFn, w = e.sampling, E = w === void 0 ? {} : w, x = e.mousemoveWait, k = e.recordCanvas, S = k === void 0 ? !1 : k, A = e.collectFonts, C = A === void 0 ? !1 : A, M = e.recordLog, D = M === void 0 ? !1 : M; if (!t) throw new Error("emit function is required"); x !== void 0 && E.mousemove === void 0 && (E.mousemove = x); var $ = v === !0 ? { color: !0, date: !0, "datetime-local": !0, email: !0, month: !0, number: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0, textarea: !0, select: !0 } : h !== void 0 ? h : {}, F = d === !0 || d === "all" ? { script: !0, comment: !0, headFavicon: !0, headWhitespace: !0, headMetaSocial: !0, headMetaRobots: !0, headMetaHttpEquiv: !0, headMetaVerification: !0, headMetaAuthorship: d === "all", headMetaDescKeywords: d === "all" } : d || {}, U = { level: ["assert", "clear", "count", "countReset", "debug", "dir", "dirxml", "error", "group", "groupCollapsed", "groupEnd", "info", "log", "table", "time", "timeEnd", "timeLog", "trace", "warn"], lengthThreshold: 1e3, logger: console }, _ = D ? D === !0 ? U : Object.assign({}, U, D) : {}; ur(); var te, V = 0; ae = function (y, I) { if (ye.isFrozen() && y.type !== g.EventType.FullSnapshot && !(y.type === g.EventType.IncrementalSnapshot && y.data.source === g.IncrementalSource.Mutation) && (ye.emit(), ye.unfreeze()), t(p ? p(y) : y, I), y.type === g.EventType.FullSnapshot) te = y, V = 0; else if (y.type === g.EventType.IncrementalSnapshot) { V++; var R = n && V >= n, z = r && y.timestamp - te.timestamp > r; (R || z) && K(!0) } }; function K(y) { var I, R, z, G; y === void 0 && (y = !1), ae(se({ type: g.EventType.Meta, data: { href: window.location.href, width: or(), height: ar() } }), y); var ie = ye.isFrozen(); ye.freeze(); var Le = rr(Ra(document, { blockClass: a, blockSelector: u, inlineStylesheet: f, maskAllInputs: $, slimDOM: F, recordCanvas: S }), 2), Ne = Le[0], Me = Le[1]; if (!Ne) return console.warn("Failed to snapshot the document"); N.map = Me, ae(se({ type: g.EventType.FullSnapshot, data: { node: Ne, initialOffset: { left: window.pageXOffset !== void 0 ? window.pageXOffset : document?.documentElement.scrollLeft || ((R = (I = document?.body) === null || I === void 0 ? void 0 : I.parentElement) === null || R === void 0 ? void 0 : R.scrollLeft) || document?.body.scrollLeft || 0, top: window.pageYOffset !== void 0 ? window.pageYOffset : document?.documentElement.scrollTop || ((G = (z = document?.body) === null || z === void 0 ? void 0 : z.parentElement) === null || G === void 0 ? void 0 : G.scrollTop) || document?.body.scrollTop || 0 } } })), ie || (ye.emit(), ye.unfreeze()) } try { var Z = []; Z.push(ge("DOMContentLoaded", function () { ae(se({ type: g.EventType.DomContentLoaded, data: {} })) })); var T = function () { K(), Z.push(no({ mutationCb: function (y) { return ae(se({ type: g.EventType.IncrementalSnapshot, data: Y({ source: g.IncrementalSource.Mutation }, y) })) }, mousemoveCb: function (y, I) { return ae(se({ type: g.EventType.IncrementalSnapshot, data: { source: I, positions: y } })) }, mouseInteractionCb: function (y) { return ae(se({ type: g.EventType.IncrementalSnapshot, data: Y({ source: g.IncrementalSource.MouseInteraction }, y) })) }, scrollCb: function (y) { return ae(se({ type: g.EventType.IncrementalSnapshot, data: Y({ source: g.IncrementalSource.Scroll }, y) })) }, viewportResizeCb: function (y) { return ae(se({ type: g.EventType.IncrementalSnapshot, data: Y({ source: g.IncrementalSource.ViewportResize }, y) })) }, inputCb: function (y) { return ae(se({ type: g.EventType.IncrementalSnapshot, data: Y({ source: g.IncrementalSource.Input }, y) })) }, mediaInteractionCb: function (y) { return ae(se({ type: g.EventType.IncrementalSnapshot, data: Y({ source: g.IncrementalSource.MediaInteraction }, y) })) }, styleSheetRuleCb: function (y) { return ae(se({ type: g.EventType.IncrementalSnapshot, data: Y({ source: g.IncrementalSource.StyleSheetRule }, y) })) }, canvasMutationCb: function (y) { return ae(se({ type: g.EventType.IncrementalSnapshot, data: Y({ source: g.IncrementalSource.CanvasMutation }, y) })) }, fontCb: function (y) { return ae(se({ type: g.EventType.IncrementalSnapshot, data: Y({ source: g.IncrementalSource.Font }, y) })) }, logCb: function (y) { return ae(se({ type: g.EventType.IncrementalSnapshot, data: Y({ source: g.IncrementalSource.Log }, y) })) }, blockClass: a, blockSelector: u, ignoreClass: c, maskInputOptions: $, maskInputFn: b, inlineStylesheet: f, sampling: E, recordCanvas: S, collectFonts: C, slimDOMOptions: F, logOptions: _ }, m)) }; return document.readyState === "interactive" || document.readyState === "complete" ? T() : Z.push(ge("load", function () { ae(se({ type: g.EventType.Load, data: {} })), T() }, window)), function () { Z.forEach(function (y) { return y() }) } } catch (y) { console.warn(y) } } nt.addCustomEvent = function (e, t) { if (!ae) throw new Error("please add custom event after start recording"); ae(se({ type: g.EventType.Custom, data: { tag: e, payload: t } })) }; nt.freezePage = function () { ye.freeze() }; function En(e) { return e = e || Object.create(null), { on: function (r, n) { (e[r] || (e[r] = [])).push(n) }, off: function (r, n) { e[r] && e[r].splice(e[r].indexOf(n) >>> 0, 1) }, emit: function (r, n) { (e[r] || []).slice().map(function (i) { i(n) }), (e["*"] || []).slice().map(function (i) { i(r, n) }) } } } var io = Object.freeze({ __proto__: null, default: En }); function ao(e, t) { if (e === void 0 && (e = window), t === void 0 && (t = document), "scrollBehavior" in t.documentElement.style && e.__forceSmoothScrollPolyfill__ !== !0) return; var r = e.HTMLElement || e.Element, n = 468, i = { scroll: e.scroll || e.scrollTo, scrollBy: e.scrollBy, elementScroll: r.prototype.scroll || s, scrollIntoView: r.prototype.scrollIntoView }, a = e.performance && e.performance.now ? e.performance.now.bind(e.performance) : Date.now; function o(p) { var w = ["MSIE ", "Trident/", "Edge/"]; return new RegExp(w.join("|")).test(p) } var u = o(e.navigator.userAgent) ? 1 : 0; function s(p, w) { this.scrollLeft = p, this.scrollTop = w } function c(p) { return .5 * (1 - Math.cos(Math.PI * p)) } function l(p) { if (p === null || typeof p != "object" || p.behavior === void 0 || p.behavior === "auto" || p.behavior === "instant") return !0; if (typeof p == "object" && p.behavior === "smooth") return !1; throw new TypeError("behavior member of ScrollOptions " + p.behavior + " is not a valid value for enumeration ScrollBehavior.") } function f(p, w) { if (w === "Y") return p.clientHeight + u < p.scrollHeight; if (w === "X") return p.clientWidth + u < p.scrollWidth } function v(p, w) { var E = e.getComputedStyle(p, null)["overflow" + w]; return E === "auto" || E === "scroll" } function h(p) { var w = f(p, "Y") && v(p, "Y"), E = f(p, "X") && v(p, "X"); return w || E } function d(p) { for (; p !== t.body && h(p) === !1;)p = p.parentNode || p.host; return p } function b(p) { var w = a(), E, x, k, S = (w - p.startTime) / n; S = S > 1 ? 1 : S, E = c(S), x = p.startX + (p.x - p.startX) * E, k = p.startY + (p.y - p.startY) * E, p.method.call(p.scrollable, x, k), (x !== p.x || k !== p.y) && e.requestAnimationFrame(b.bind(e, p)) } function m(p, w, E) { var x, k, S, A, C = a(); p === t.body ? (x = e, k = e.scrollX || e.pageXOffset, S = e.scrollY || e.pageYOffset, A = i.scroll) : (x = p, k = p.scrollLeft, S = p.scrollTop, A = s), b({ scrollable: x, method: A, startTime: C, startX: k, startY: S, x: w, y: E }) } e.scroll = e.scrollTo = function () { if (arguments[0] !== void 0) { if (l(arguments[0]) === !0) { i.scroll.call(e, arguments[0].left !== void 0 ? arguments[0].left : typeof arguments[0] != "object" ? arguments[0] : e.scrollX || e.pageXOffset, arguments[0].top !== void 0 ? arguments[0].top : arguments[1] !== void 0 ? arguments[1] : e.scrollY || e.pageYOffset); return } m.call(e, t.body, arguments[0].left !== void 0 ? ~~arguments[0].left : e.scrollX || e.pageXOffset, arguments[0].top !== void 0 ? ~~arguments[0].top : e.scrollY || e.pageYOffset) } }, e.scrollBy = function () { if (arguments[0] !== void 0) { if (l(arguments[0])) { i.scrollBy.call(e, arguments[0].left !== void 0 ? arguments[0].left : typeof arguments[0] != "object" ? arguments[0] : 0, arguments[0].top !== void 0 ? arguments[0].top : arguments[1] !== void 0 ? arguments[1] : 0); return } m.call(e, t.body, ~~arguments[0].left + (e.scrollX || e.pageXOffset), ~~arguments[0].top + (e.scrollY || e.pageYOffset)) } }, r.prototype.scroll = r.prototype.scrollTo = function () { if (arguments[0] !== void 0) { if (l(arguments[0]) === !0) { if (typeof arguments[0] == "number" && arguments[1] === void 0) throw new SyntaxError("Value could not be converted"); i.elementScroll.call(this, arguments[0].left !== void 0 ? ~~arguments[0].left : typeof arguments[0] != "object" ? ~~arguments[0] : this.scrollLeft, arguments[0].top !== void 0 ? ~~arguments[0].top : arguments[1] !== void 0 ? ~~arguments[1] : this.scrollTop); return } var p = arguments[0].left, w = arguments[0].top; m.call(this, this, typeof p > "u" ? this.scrollLeft : ~~p, typeof w > "u" ? this.scrollTop : ~~w) } }, r.prototype.scrollBy = function () { if (arguments[0] !== void 0) { if (l(arguments[0]) === !0) { i.elementScroll.call(this, arguments[0].left !== void 0 ? ~~arguments[0].left + this.scrollLeft : ~~arguments[0] + this.scrollLeft, arguments[0].top !== void 0 ? ~~arguments[0].top + this.scrollTop : ~~arguments[1] + this.scrollTop); return } this.scroll({ left: ~~arguments[0].left + this.scrollLeft, top: ~~arguments[0].top + this.scrollTop, behavior: arguments[0].behavior }) } }, r.prototype.scrollIntoView = function () { if (l(arguments[0]) === !0) { i.scrollIntoView.call(this, arguments[0] === void 0 ? !0 : arguments[0]); return } var p = d(this), w = p.getBoundingClientRect(), E = this.getBoundingClientRect(); p !== t.body ? (m.call(this, p, p.scrollLeft + E.left - w.left, p.scrollTop + E.top - w.top), e.getComputedStyle(p).position !== "fixed" && e.scrollBy({ left: w.left, top: w.top, behavior: "smooth" })) : e.scrollBy({ left: E.left, top: E.top, behavior: "smooth" }) } } var oo = function () { function e(t, r) { t === void 0 && (t = []), this.timeOffset = 0, this.raf = null, this.actions = t, this.speed = r } return e.prototype.addAction = function (t) { var r = this.findActionIndex(t); this.actions.splice(r, 0, t) }, e.prototype.addActions = function (t) { var r; (r = this.actions).push.apply(r, H(t)) }, e.prototype.start = function () { this.actions.sort(function (a, o) { return a.delay - o.delay }), this.timeOffset = 0; var t = performance.now(), r = this.actions, n = this; function i() { var a = performance.now(); for (n.timeOffset += (a - t) * n.speed, t = a; r.length;) { var o = r[0]; if (n.timeOffset >= o.delay) r.shift(), o.doAction(); else break } (r.length > 0 || n.liveMode) && (n.raf = requestAnimationFrame(i)) } this.raf = requestAnimationFrame(i) }, e.prototype.clear = function () { this.raf && (cancelAnimationFrame(this.raf), this.raf = null), this.actions.length = 0 }, e.prototype.setSpeed = function (t) { this.speed = t }, e.prototype.toggleLiveMode = function (t) { this.liveMode = t }, e.prototype.isActive = function () { return this.raf !== null }, e.prototype.findActionIndex = function (t) { for (var r = 0, n = this.actions.length - 1; r <= n;) { var i = Math.floor((r + n) / 2); if (this.actions[i].delay < t.delay) r = i + 1; else if (this.actions[i].delay > t.delay) n = i - 1; else return i } return r }, e }(); function ln(e, t) { if (e.type === g.EventType.IncrementalSnapshot && e.data.source === g.IncrementalSource.MouseMove) { var r = e.data.positions[0].timeOffset, n = e.timestamp + r; return e.delay = n - t, n - t } return e.delay = e.timestamp - t, e.delay } var He; (function (e) { e[e.NotStarted = 0] = "NotStarted", e[e.Running = 1] = "Running", e[e.Stopped = 2] = "Stopped" })(He || (He = {})); var so = { type: "xstate.init" }; function fn(e) { return e === void 0 ? [] : [].concat(e) } function Ue(e) { return { type: "xstate.assign", assignment: e } } function hn(e, t) { return typeof (e = typeof e == "string" && t && t[e] ? t[e] : e) == "string" ? { type: e } : typeof e == "function" ? { type: e.name, exec: e } : e } function yt(e) { return function (t) { return e === t } } function xn(e) { return typeof e == "string" ? { type: e } : e } function pn(e, t) { return { value: e, context: t, actions: [], changed: !1, matches: yt(e) } } function Tn(e, t) { t === void 0 && (t = {}); var r = { config: e, _options: t, initialState: { value: e.initial, actions: fn(e.states[e.initial].entry).map(function (n) { return hn(n, t.actions) }), context: e.context, matches: yt(e.initial) }, transition: function (n, i) { var a, o, u = typeof n == "string" ? { value: n, context: e.context } : n, s = u.value, c = u.context, l = xn(i), f = e.states[s]; if (f.on) { var v = fn(f.on[l.type]), h = function (p) { if (p === void 0) return { value: pn(s, c) }; var w = typeof p == "string" ? { target: p } : p, E = w.target, x = E === void 0 ? s : E, k = w.actions, S = k === void 0 ? [] : k, A = w.cond, C = c; if ((A === void 0 ? function () { return !0 } : A)(c, l)) { var M = e.states[x], D = !1, $ = [].concat(f.exit, S, M.entry).filter(function (F) { return F }).map(function (F) { return hn(F, r._options.actions) }).filter(function (F) { if (F.type === "xstate.assign") { D = !0; var U = Object.assign({}, C); return typeof F.assignment == "function" ? U = F.assignment(C, l) : Object.keys(F.assignment).forEach(function (_) { U[_] = typeof F.assignment[_] == "function" ? F.assignment[_](C, l) : F.assignment[_] }), C = U, !1 } return !0 }); return { value: { value: x, context: C, actions: $, changed: x !== s || $.length > 0 || D, matches: yt(x) } } } }; try { for (var d = function (p) { var w = typeof Symbol == "function" && p[Symbol.iterator], E = 0; return w ? w.call(p) : { next: function () { return p && E >= p.length && (p = void 0), { value: p && p[E++], done: !p } } } }(v), b = d.next(); !b.done; b = d.next()) { var m = h(b.value); if (typeof m == "object") return m.value } } catch (p) { a = { error: p } } finally { try { b && !b.done && (o = d.return) && o.call(d) } finally { if (a) throw a.error } } } return pn(s, c) } }; return r } var dn = function (e, t) { return e.actions.forEach(function (r) { var n = r.exec; return n && n(e.context, t) }) }; function kn(e) { var t = e.initialState, r = He.NotStarted, n = new Set, i = { _machine: e, send: function (a) { r === He.Running && (t = e.transition(t, a), dn(t, xn(a)), n.forEach(function (o) { return o(t) })) }, subscribe: function (a) { return n.add(a), a(t), { unsubscribe: function () { return n.delete(a) } } }, start: function (a) { if (a) { var o = typeof a == "object" ? a : { context: e.config.context, value: a }; t = { value: o.value, actions: [], context: o.context, matches: yt(o.value) } } return r = He.Running, dn(t, so), i }, stop: function () { return r = He.Stopped, n.clear(), i }, get state() { return t }, get status() { return r } }; return i } function uo(e, t) { for (var r = e.length - 1; r >= 0; r--) { var n = e[r]; if (n.type === g.EventType.Meta && n.timestamp <= t) return e.slice(r) } return e } function co(e, t) { var r = t.getCastFn, n = t.emitter, i = Tn({ id: "player", context: e, initial: "paused", states: { playing: { on: { PAUSE: { target: "paused", actions: ["pause"] }, CAST_EVENT: { target: "playing", actions: "castEvent" }, END: { target: "paused", actions: ["resetLastPlayedEvent", "pause"] }, ADD_EVENT: { target: "playing", actions: ["addEvent"] } } }, paused: { on: { PLAY: { target: "playing", actions: ["recordTimeOffset", "play"] }, CAST_EVENT: { target: "paused", actions: "castEvent" }, TO_LIVE: { target: "live", actions: ["startLive"] }, ADD_EVENT: { target: "paused", actions: ["addEvent"] } } }, live: { on: { ADD_EVENT: { target: "live", actions: ["addEvent"] }, CAST_EVENT: { target: "live", actions: ["castEvent"] } } } } }, { actions: { castEvent: Ue({ lastPlayedEvent: function (a, o) { return o.type === "CAST_EVENT" ? o.payload.event : a.lastPlayedEvent } }), recordTimeOffset: Ue(function (a, o) { var u = a.timeOffset; return "payload" in o && "timeOffset" in o.payload && (u = o.payload.timeOffset), Y(Y({}, a), { timeOffset: u, baselineTime: a.events[0].timestamp + u }) }), play: function (a) { var o, u, s, c, l; console.warn("play"); var f = a.timer, v = a.events, h = a.baselineTime, d = a.lastPlayedEvent; f.clear(); try { for (var b = re(v), m = b.next(); !m.done; m = b.next()) { var p = m.value; ln(p, h) } } catch (A) { o = { error: A } } finally { try { m && !m.done && (u = b.return) && u.call(b) } finally { if (o) throw o.error } } var w = uo(v, h), E = new Array, x = function (A) { var C = d?.timestamp; if (d?.type === g.EventType.IncrementalSnapshot && d.data.source === g.IncrementalSource.MouseMove && (C = d.timestamp + ((l = d.data.positions[0]) === null || l === void 0 ? void 0 : l.timeOffset)), C && C < h && (A.timestamp <= C || A === d)) return "continue"; var M = A.timestamp < h; if (M && !wn(A)) return "continue"; var D = r(A, M); M ? D() : E.push({ doAction: function () { D(), n.emit(g.ReplayerEvents.EventCast, A) }, delay: A.delay }) }; try { for (var k = re(w), S = k.next(); !S.done; S = k.next()) { var p = S.value; x(p) } } catch (A) { s = { error: A } } finally { try { S && !S.done && (c = k.return) && c.call(k) } finally { if (s) throw s.error } } n.emit(g.ReplayerEvents.Flush), f.addActions(E), f.start() }, pause: function (a) { a.timer.clear() }, resetLastPlayedEvent: Ue(function (a) { return Y(Y({}, a), { lastPlayedEvent: null }) }), startLive: Ue({ baselineTime: function (a, o) { return a.timer.toggleLiveMode(!0), a.timer.start(), o.type === "TO_LIVE" && o.payload.baselineTime ? o.payload.baselineTime : Date.now() } }), addEvent: Ue(function (a, o) { var u = a.baselineTime, s = a.timer, c = a.events; if (o.type === "ADD_EVENT") { var l = o.payload.event; ln(l, u), c.push(l); var f = l.timestamp < u, v = r(l, f); f ? v() : (s.addAction({ doAction: function () { v(), n.emit(g.ReplayerEvents.EventCast, l) }, delay: l.delay }), s.isActive() || s.start()) } return Y(Y({}, a), { events: c }) }) } }); return kn(i) } function lo(e) { var t = Tn({ id: "speed", context: e, initial: "normal", states: { normal: { on: { FAST_FORWARD: { target: "skipping", actions: ["recordSpeed", "setSpeed"] }, SET_SPEED: { target: "normal", actions: ["setSpeed"] } } }, skipping: { on: { BACK_TO_NORMAL: { target: "normal", actions: ["restoreSpeed"] }, SET_SPEED: { target: "normal", actions: ["setSpeed"] } } } } }, { actions: { setSpeed: function (r, n) { "payload" in n && r.timer.setSpeed(n.payload.speed) }, recordSpeed: Ue({ normalSpeed: function (r) { return r.timer.speed } }), restoreSpeed: function (r) { r.timer.setSpeed(r.normalSpeed) } } }); return kn(t) } var fo = function (e) { return ["iframe, ." + e + " { background: #ccc }", "noscript { display: none !important; }"] }, ho = 10 * 1e3, po = 5 * 1e3, vo = En || io, Ut = "[replayer]", Ht = { duration: 500, lineCap: "round", lineWidth: 3, strokeStyle: "red" }, mo = { level: ["assert", "clear", "count", "countReset", "debug", "dir", "dirxml", "error", "group", "groupCollapsed", "groupEnd", "info", "log", "table", "time", "timeEnd", "timeLog", "trace", "warn"], replayLogger: void 0 }, yo = function () {
			function e(t, r) { var n = this; if (this.mouseTail = null, this.tailPositions = [], this.emitter = vo(), this.legacy_missingNodeRetryMap = {}, this.imageMap = new Map, !r?.liveMode && t.length < 2) throw new Error("Replayer need at least 2 events."); var i = { speed: 1, root: document.body, loadTimeout: 0, skipInactive: !1, showWarning: !0, showDebug: !1, blockClass: "rr-block", liveMode: !1, insertStyleRules: [], triggerFocus: !0, UNSAFE_replayCanvas: !1, pauseAnimation: !0, mouseTail: Ht, logConfig: mo }; this.config = Object.assign({}, i, r), this.config.logConfig.replayLogger || (this.config.logConfig.replayLogger = this.getConsoleLogger()), this.handleResize = this.handleResize.bind(this), this.getCastFn = this.getCastFn.bind(this), this.emitter.on(g.ReplayerEvents.Resize, this.handleResize), this.setupDom(), this.treeIndex = new Cn, this.fragmentParentMap = new Map, this.elementStateMap = new Map, this.emitter.on(g.ReplayerEvents.Flush, function () { var f, v, h, d, b, m, p = n.treeIndex.flush(), w = p.scrollMap, E = p.inputMap; try { for (var x = re(n.fragmentParentMap.entries()), k = x.next(); !k.done; k = x.next()) { var S = rr(k.value, 2), A = S[0], C = S[1]; N.map[C.__sn.id] = C, C.__sn.type === j.Element && C.__sn.tagName === "textarea" && A.textContent && (C.value = A.textContent), C.appendChild(A), n.restoreState(C) } } catch (_) { f = { error: _ } } finally { try { k && !k.done && (v = x.return) && v.call(x) } finally { if (f) throw f.error } } n.fragmentParentMap.clear(), n.elementStateMap.clear(); try { for (var M = re(w.values()), D = M.next(); !D.done; D = M.next()) { var $ = D.value; n.applyScroll($) } } catch (_) { h = { error: _ } } finally { try { D && !D.done && (d = M.return) && d.call(M) } finally { if (h) throw h.error } } try { for (var F = re(E.values()), U = F.next(); !U.done; U = F.next()) { var $ = U.value; n.applyInput($) } } catch (_) { b = { error: _ } } finally { try { U && !U.done && (m = F.return) && m.call(F) } finally { if (b) throw b.error } } }); var a = new oo([], r?.speed || i.speed); this.service = co({ events: t.map(function (f) { return r && r.unpackFn ? r.unpackFn(f) : f }), timer: a, timeOffset: 0, baselineTime: 0, lastPlayedEvent: null }, { getCastFn: this.getCastFn, emitter: this.emitter }), this.service.start(), this.service.subscribe(function (f) { n.emitter.emit(g.ReplayerEvents.StateChange, { player: f }) }), this.speedService = lo({ normalSpeed: -1, timer: a }), this.speedService.start(), this.speedService.subscribe(function (f) { n.emitter.emit(g.ReplayerEvents.StateChange, { speed: f }) }); var o = this.service.state.context.events.find(function (f) { return f.type === g.EventType.Meta }), u = this.service.state.context.events.find(function (f) { return f.type === g.EventType.FullSnapshot }); if (o) { var s = o.data, c = s.width, l = s.height; setTimeout(function () { n.emitter.emit(g.ReplayerEvents.Resize, { width: c, height: l }) }, 0) } u && setTimeout(function () { n.rebuildFullSnapshot(u), n.iframe.contentWindow.scrollTo(u.data.initialOffset) }, 1) } return Object.defineProperty(e.prototype, "timer", { get: function () { return this.service.state.context.timer }, enumerable: !1, configurable: !0 }), e.prototype.on = function (t, r) { return this.emitter.on(t, r), this }, e.prototype.setConfig = function (t) { var r = this; Object.keys(t).forEach(function (n) { r.config[n] = t[n] }), this.config.skipInactive || this.backToNormal(), typeof t.speed < "u" && this.speedService.send({ type: "SET_SPEED", payload: { speed: t.speed } }), typeof t.mouseTail < "u" && (t.mouseTail === !1 ? this.mouseTail && (this.mouseTail.style.display = "none") : (this.mouseTail || (this.mouseTail = document.createElement("canvas"), this.mouseTail.width = Number.parseFloat(this.iframe.width), this.mouseTail.height = Number.parseFloat(this.iframe.height), this.mouseTail.classList.add("replayer-mouse-tail"), this.wrapper.insertBefore(this.mouseTail, this.iframe)), this.mouseTail.style.display = "inherit")) }, e.prototype.getMetaData = function () { var t = this.service.state.context.events[0], r = this.service.state.context.events[this.service.state.context.events.length - 1]; return { startTime: t.timestamp, endTime: r.timestamp, totalTime: r.timestamp - t.timestamp } }, e.prototype.getCurrentTime = function () { return this.timer.timeOffset + this.getTimeOffset() }, e.prototype.getTimeOffset = function () { var t = this.service.state.context, r = t.baselineTime, n = t.events; return r - n[0].timestamp }, e.prototype.play = function (t) { var r; t === void 0 && (t = 0), this.service.state.matches("paused") ? this.service.send({ type: "PLAY", payload: { timeOffset: t } }) : (this.service.send({ type: "PAUSE" }), this.service.send({ type: "PLAY", payload: { timeOffset: t } })), (r = this.iframe.contentDocument) === null || r === void 0 || r.getElementsByTagName("html")[0].classList.remove("rrweb-paused"), this.emitter.emit(g.ReplayerEvents.Start) }, e.prototype.pause = function (t) { var r; t === void 0 && this.service.state.matches("playing") && this.service.send({ type: "PAUSE" }), typeof t == "number" && (this.play(t), this.service.send({ type: "PAUSE" })), (r = this.iframe.contentDocument) === null || r === void 0 || r.getElementsByTagName("html")[0].classList.add("rrweb-paused"), this.emitter.emit(g.ReplayerEvents.Pause) }, e.prototype.resume = function (t) { t === void 0 && (t = 0), console.warn("The 'resume' will be departed in 1.0. Please use 'play' method which has the same interface."), this.play(t), this.emitter.emit(g.ReplayerEvents.Resume) }, e.prototype.startLive = function (t) { this.service.send({ type: "TO_LIVE", payload: { baselineTime: t } }) }, e.prototype.addEvent = function (t) { var r = this, n = this.config.unpackFn ? this.config.unpackFn(t) : t; Promise.resolve().then(function () { return r.service.send({ type: "ADD_EVENT", payload: { event: n } }) }) }, e.prototype.enableInteract = function () { this.iframe.setAttribute("scrolling", "auto"), this.iframe.style.pointerEvents = "auto" }, e.prototype.disableInteract = function () { this.iframe.setAttribute("scrolling", "no"), this.iframe.style.pointerEvents = "none" }, e.prototype.setupDom = function () { this.wrapper = document.createElement("div"), this.wrapper.classList.add("replayer-wrapper"), this.config.root.appendChild(this.wrapper), this.mouse = document.createElement("div"), this.mouse.classList.add("replayer-mouse"), this.wrapper.appendChild(this.mouse), this.config.mouseTail !== !1 && (this.mouseTail = document.createElement("canvas"), this.mouseTail.classList.add("replayer-mouse-tail"), this.mouseTail.style.display = "inherit", this.wrapper.appendChild(this.mouseTail)), this.iframe = document.createElement("iframe"); var t = ["allow-same-origin"]; this.config.UNSAFE_replayCanvas && t.push("allow-scripts"), this.iframe.style.display = "none", this.iframe.setAttribute("sandbox", t.join(" ")), this.disableInteract(), this.wrapper.appendChild(this.iframe), this.iframe.contentWindow && this.iframe.contentDocument && (ao(this.iframe.contentWindow, this.iframe.contentDocument), ur(this.iframe.contentWindow)) }, e.prototype.handleResize = function (t) { var r, n; this.iframe.style.display = "inherit"; try { for (var i = re([this.mouseTail, this.iframe]), a = i.next(); !a.done; a = i.next()) { var o = a.value; !o || (o.setAttribute("width", String(t.width)), o.setAttribute("height", String(t.height))) } } catch (u) { r = { error: u } } finally { try { a && !a.done && (n = i.return) && n.call(i) } finally { if (r) throw r.error } } }, e.prototype.getCastFn = function (t, r) { var n = this; r === void 0 && (r = !1); var i; switch (t.type) { case g.EventType.DomContentLoaded: case g.EventType.Load: break; case g.EventType.Custom: i = function () { n.emitter.emit(g.ReplayerEvents.CustomEvent, t) }; break; case g.EventType.Meta: i = function () { return n.emitter.emit(g.ReplayerEvents.Resize, { width: t.data.width, height: t.data.height }) }; break; case g.EventType.FullSnapshot: i = function () { n.rebuildFullSnapshot(t, r), n.iframe.contentWindow.scrollTo(t.data.initialOffset) }; break; case g.EventType.IncrementalSnapshot: i = function () { var o, u; if (n.applyIncremental(t, r), !r && (t === n.nextUserInteractionEvent && (n.nextUserInteractionEvent = null, n.backToNormal()), n.config.skipInactive && !n.nextUserInteractionEvent)) { try { for (var s = re(n.service.state.context.events), c = s.next(); !c.done; c = s.next()) { var l = c.value; if (!(l.timestamp <= t.timestamp) && n.isUserInteraction(l)) { l.delay - t.delay > ho * n.speedService.state.context.timer.speed && (n.nextUserInteractionEvent = l); break } } } catch (h) { o = { error: h } } finally { try { c && !c.done && (u = s.return) && u.call(s) } finally { if (o) throw o.error } } if (n.nextUserInteractionEvent) { var f = n.nextUserInteractionEvent.delay - t.delay, v = { speed: Math.min(Math.round(f / po), 360) }; n.speedService.send({ type: "FAST_FORWARD", payload: v }), n.emitter.emit(g.ReplayerEvents.SkipStart, v) } } }; break }var a = function () { if (i && i(), n.service.send({ type: "CAST_EVENT", payload: { event: t } }), t === n.service.state.context.events[n.service.state.context.events.length - 1]) { var o = function () { n.backToNormal(), n.service.send("END"), n.emitter.emit(g.ReplayerEvents.Finish) }; t.type === g.EventType.IncrementalSnapshot && t.data.source === g.IncrementalSource.MouseMove && t.data.positions.length ? setTimeout(function () { o() }, Math.max(0, -t.data.positions[0].timeOffset + 50)) : o() } }; return a }, e.prototype.rebuildFullSnapshot = function (t, r) { if (r === void 0 && (r = !1), !this.iframe.contentDocument) return console.warn("Looks like your replayer has been destroyed."); Object.keys(this.legacy_missingNodeRetryMap).length && console.warn("Found unresolved missing node map", this.legacy_missingNodeRetryMap), this.legacy_missingNodeRetryMap = {}, N.map = _a(t.data.node, { doc: this.iframe.contentDocument })[1]; var n = document.createElement("style"), i = this.iframe.contentDocument, a = i.documentElement, o = i.head; a.insertBefore(n, o); var u = fo(this.config.blockClass).concat(this.config.insertStyleRules); this.config.pauseAnimation && u.push("html.rrweb-paused * { animation-play-state: paused !important; }"), this.service.state.matches("playing") || this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused"); for (var s = 0; s < u.length; s++)n.sheet.insertRule(u[s], s); this.emitter.emit(g.ReplayerEvents.FullsnapshotRebuilded, t), r || this.waitForStylesheetLoad(), this.config.UNSAFE_replayCanvas && this.preloadAllImages() }, e.prototype.waitForStylesheetLoad = function () { var t = this, r, n = (r = this.iframe.contentDocument) === null || r === void 0 ? void 0 : r.head; if (n) { var i = new Set, a, o = this.service.state, u = function () { o = t.service.state }; this.emitter.on(g.ReplayerEvents.Start, u), this.emitter.on(g.ReplayerEvents.Pause, u); var s = function () { t.emitter.off(g.ReplayerEvents.Start, u), t.emitter.off(g.ReplayerEvents.Pause, u) }; n.querySelectorAll('link[rel="stylesheet"]').forEach(function (c) { c.sheet || (i.add(c), c.addEventListener("load", function () { i.delete(c), i.size === 0 && a !== -1 && (o.matches("playing") && t.play(t.getCurrentTime()), t.emitter.emit(g.ReplayerEvents.LoadStylesheetEnd), a && window.clearTimeout(a), s()) })) }), i.size > 0 && (this.service.send({ type: "PAUSE" }), this.emitter.emit(g.ReplayerEvents.LoadStylesheetStart), a = window.setTimeout(function () { o.matches("playing") && t.play(t.getCurrentTime()), a = -1, s() }, this.config.loadTimeout)) } }, e.prototype.preloadAllImages = function () { var t, r, n = this, i = this.service.state, a = function () { i = n.service.state }; this.emitter.on(g.ReplayerEvents.Start, a), this.emitter.on(g.ReplayerEvents.Pause, a); var o = function () { n.emitter.off(g.ReplayerEvents.Start, a), n.emitter.off(g.ReplayerEvents.Pause, a) }, u = 0, s = 0; try { for (var c = re(this.service.state.context.events), l = c.next(); !l.done; l = c.next()) { var f = l.value; if (f.type === g.EventType.IncrementalSnapshot && f.data.source === g.IncrementalSource.CanvasMutation && f.data.property === "drawImage" && typeof f.data.args[0] == "string" && !this.imageMap.has(f)) { u++; var v = document.createElement("img"); v.src = f.data.args[0], this.imageMap.set(f, v), v.onload = function () { s++, s === u && (i.matches("playing") && n.play(n.getCurrentTime()), o()) } } } } catch (h) { t = { error: h } } finally { try { l && !l.done && (r = c.return) && r.call(c) } finally { if (t) throw t.error } } u !== s && this.service.send({ type: "PAUSE" }) }, e.prototype.applyIncremental = function (t, r) { var n = this, i, a, o = t.data; switch (o.source) { case g.IncrementalSource.Mutation: { r && (o.adds.forEach(function (C) { return n.treeIndex.add(C) }), o.texts.forEach(function (C) { return n.treeIndex.text(C) }), o.attributes.forEach(function (C) { return n.treeIndex.attribute(C) }), o.removes.forEach(function (C) { return n.treeIndex.remove(C) })), this.applyMutation(o, r); break } case g.IncrementalSource.MouseMove: if (r) { var u = o.positions[o.positions.length - 1]; this.moveAndHover(o, u.x, u.y, u.id) } else o.positions.forEach(function (C) { var M = { doAction: function () { n.moveAndHover(o, C.x, C.y, C.id) }, delay: C.timeOffset + t.timestamp - n.service.state.context.baselineTime }; n.timer.addAction(M) }), this.timer.addAction({ doAction: function () { }, delay: t.delay - ((i = o.positions[0]) === null || i === void 0 ? void 0 : i.timeOffset) }); break; case g.IncrementalSource.MouseInteraction: { if (o.id === -1) break; var s = new Event(g.MouseInteractions[o.type].toLowerCase()), c = N.getNode(o.id); if (!c) return this.debugNodeNotFound(o, o.id); this.emitter.emit(g.ReplayerEvents.MouseInteraction, { type: o.type, target: c }); var l = this.config.triggerFocus; switch (o.type) { case g.MouseInteractions.Blur: "blur" in c && c.blur(); break; case g.MouseInteractions.Focus: l && c.focus && c.focus({ preventScroll: !0 }); break; case g.MouseInteractions.Click: case g.MouseInteractions.TouchStart: case g.MouseInteractions.TouchEnd: r || (this.moveAndHover(o, o.x, o.y, o.id), this.mouse.classList.remove("active"), this.mouse.offsetWidth, this.mouse.classList.add("active")); break; default: c.dispatchEvent(s) }break } case g.IncrementalSource.Scroll: { if (o.id === -1) break; if (r) { this.treeIndex.scroll(o); break } this.applyScroll(o); break } case g.IncrementalSource.ViewportResize: this.emitter.emit(g.ReplayerEvents.Resize, { width: o.width, height: o.height }); break; case g.IncrementalSource.Input: { if (o.id === -1) break; if (r) { this.treeIndex.input(o); break } this.applyInput(o); break } case g.IncrementalSource.MediaInteraction: { var c = N.getNode(o.id); if (!c) return this.debugNodeNotFound(o, o.id); var f = c; try { o.type === ze.Pause && f.pause(), o.type === ze.Play && (f.readyState >= HTMLMediaElement.HAVE_CURRENT_DATA ? f.play() : f.addEventListener("canplay", function () { f.play() })) } catch (M) { this.config.showWarning && console.warn("Failed to replay media interactions: " + (M.message || M)) } break } case g.IncrementalSource.StyleSheetRule: { var c = N.getNode(o.id); if (!c) return this.debugNodeNotFound(o, o.id); var v = c, h = c.parentNode, d = this.fragmentParentMap.has(h), b = void 0; if (d) { var m = this.fragmentParentMap.get(c.parentNode); b = document.createTextNode(""), h.replaceChild(b, c), m.appendChild(c) } var p = v.sheet; o.adds && o.adds.forEach(function (M) { var D = M.rule, $ = M.index; try { var F = $ === void 0 ? void 0 : Math.min($, p.rules.length); try { p.insertRule(D, F) } catch { } } catch { } }), o.removes && o.removes.forEach(function (M) { var D = M.index; try { p.deleteRule(D) } catch { } }), d && b && h.replaceChild(c, b); break } case g.IncrementalSource.CanvasMutation: { if (!this.config.UNSAFE_replayCanvas) return; var c = N.getNode(o.id); if (!c) return this.debugNodeNotFound(o, o.id); try { var w = c.getContext("2d"); if (o.setter) { w[o.property] = o.args[0]; return } var E = w[o.property]; if (o.property === "drawImage" && typeof o.args[0] == "string") { var x = this.imageMap.get(t); o.args[0] = x, E.apply(w, o.args) } else E.apply(w, o.args) } catch (M) { this.warnCanvasMutationFailed(o, o.id, M) } break } case g.IncrementalSource.Font: { try { var k = new FontFace(o.family, o.buffer ? new Uint8Array(JSON.parse(o.fontSource)) : o.fontSource, o.descriptors); (a = this.iframe.contentDocument) === null || a === void 0 || a.fonts.add(k) } catch (C) { this.config.showWarning && console.warn(C) } break } case g.IncrementalSource.Log: try { var S = t.data, A = this.config.logConfig.replayLogger; typeof A[S.level] == "function" && A[S.level](S) } catch (C) { this.config.showWarning && console.warn(C) } } }, e.prototype.applyMutation = function (t, r) { var n, i, a = this; t.removes.forEach(function (m) { var p = N.getNode(m.id); if (!p) return a.warnNodeNotFound(t, m.id); var w = N.getNode(m.parentId); if (!w) return a.warnNodeNotFound(t, m.parentId); if (N.removeNodeFromMap(p), w) { var E = a.fragmentParentMap.get(w); if (E && E.contains(p)) E.removeChild(p); else if (a.fragmentParentMap.has(p)) { var x = a.fragmentParentMap.get(p); w.removeChild(x), a.fragmentParentMap.delete(p) } else w.removeChild(p) } }); var o = Y({}, this.legacy_missingNodeRetryMap), u = []; function s(m) { var p = null; return m.nextId && (p = N.getNode(m.nextId)), m.nextId !== null && m.nextId !== void 0 && m.nextId !== -1 && !p } var c = function (m) { if (!a.iframe.contentDocument) return console.warn("Looks like your replayer has been destroyed."); var p = N.getNode(m.parentId); if (!p) return u.push(m); var w = null; if (a.iframe.contentDocument.contains ? w = a.iframe.contentDocument.contains(p) : a.iframe.contentDocument.body.contains && (w = a.iframe.contentDocument.body.contains(p)), r && w) { var E = document.createDocumentFragment(); for (N.map[m.parentId] = E, a.fragmentParentMap.set(E, p), a.storeState(p); p.firstChild;)E.appendChild(p.firstChild); p = E } var x = null, k = null; if (m.previousId && (x = N.getNode(m.previousId)), m.nextId && (k = N.getNode(m.nextId)), s(m)) return u.push(m); var S = ir(m.node, { doc: a.iframe.contentDocument, map: N.map, skipChild: !0, hackCss: !0 }); if (m.previousId === -1 || m.nextId === -1) { o[m.node.id] = { node: S, mutation: m }; return } x && x.nextSibling && x.nextSibling.parentNode ? p.insertBefore(S, x.nextSibling) : k && k.parentNode ? p.contains(k) ? p.insertBefore(S, k) : p.insertBefore(S, null) : p.appendChild(S), (m.previousId || m.nextId) && a.legacy_resolveMissingNode(o, p, S, m) }; t.adds.forEach(function (m) { c(m) }); for (var l = Date.now(); u.length;) { var f = Sn(u); if (u.length = 0, Date.now() - l > 500) { this.warn("Timeout in the loop, please check the resolve tree data:", f); break } try { for (var v = (n = void 0, re(f)), h = v.next(); !h.done; h = v.next()) { var d = h.value, b = N.getNode(d.value.parentId); b ? cr(d, function (m) { c(m) }) : this.debug("Drop resolve tree since there is no parent for the root node.", d) } } catch (m) { n = { error: m } } finally { try { h && !h.done && (i = v.return) && i.call(v) } finally { if (n) throw n.error } } } Object.keys(o).length && Object.assign(this.legacy_missingNodeRetryMap, o), t.texts.forEach(function (m) { var p = N.getNode(m.id); if (!p) return a.warnNodeNotFound(t, m.id); a.fragmentParentMap.has(p) && (p = a.fragmentParentMap.get(p)), p.textContent = m.value }), t.attributes.forEach(function (m) { var p = N.getNode(m.id); if (!p) return a.warnNodeNotFound(t, m.id); a.fragmentParentMap.has(p) && (p = a.fragmentParentMap.get(p)); for (var w in m.attributes) if (typeof w == "string") { var E = m.attributes[w]; try { E !== null ? p.setAttribute(w, E) : p.removeAttribute(w) } catch (x) { a.config.showWarning && console.warn("An error occurred may due to the checkout feature.", x) } } }) }, e.prototype.applyScroll = function (t) { var r = N.getNode(t.id); if (!r) return this.debugNodeNotFound(t, t.id); if (r === this.iframe.contentDocument) this.iframe.contentWindow.scrollTo({ top: t.y, left: t.x, behavior: "smooth" }); else try { r.scrollTop = t.y, r.scrollLeft = t.x } catch { } }, e.prototype.applyInput = function (t) { var r = N.getNode(t.id); if (!r) return this.debugNodeNotFound(t, t.id); try { r.checked = t.isChecked, r.value = t.text } catch { } }, e.prototype.formatMessage = function (t) {
				if (t.trace.length === 0) return ""; var r = `
	at `, n = r; return n += t.trace.join(r), n
			}, e.prototype.getConsoleLogger = function () { var t, r, n = this, i = "__rrweb_original__", a = {}, o = function (l) { l === "trace" ? a[l] = function (f) { var v = console.log[i] ? console.log[i] : console.log; v.apply(void 0, H(f.payload.map(function (h) { return JSON.parse(h) }), [n.formatMessage(f)])) } : a[l] = function (f) { var v = console[l][i] ? console[l][i] : console[l]; v.apply(void 0, H(f.payload.map(function (h) { return JSON.parse(h) }), [n.formatMessage(f)])) } }; try { for (var u = re(this.config.logConfig.level), s = u.next(); !s.done; s = u.next()) { var c = s.value; o(c) } } catch (l) { t = { error: l } } finally { try { s && !s.done && (r = u.return) && r.call(u) } finally { if (t) throw t.error } } return a }, e.prototype.legacy_resolveMissingNode = function (t, r, n, i) { var a = i.previousId, o = i.nextId, u = a && t[a], s = o && t[o]; if (u) { var c = u, l = c.node, f = c.mutation; r.insertBefore(l, n), delete t[f.node.id], delete this.legacy_missingNodeRetryMap[f.node.id], (f.previousId || f.nextId) && this.legacy_resolveMissingNode(t, r, l, f) } if (s) { var v = s, l = v.node, f = v.mutation; r.insertBefore(l, n.nextSibling), delete t[f.node.id], delete this.legacy_missingNodeRetryMap[f.node.id], (f.previousId || f.nextId) && this.legacy_resolveMissingNode(t, r, l, f) } }, e.prototype.moveAndHover = function (t, r, n, i) { this.mouse.style.left = r + "px", this.mouse.style.top = n + "px", this.drawMouseTail({ x: r, y: n }); var a = N.getNode(i); if (!a) return this.debugNodeNotFound(t, i); this.hoverElements(a) }, e.prototype.drawMouseTail = function (t) { var r = this; if (!!this.mouseTail) { var n = this.config.mouseTail === !0 ? Ht : Object.assign({}, Ht, this.config.mouseTail), i = n.lineCap, a = n.lineWidth, o = n.strokeStyle, u = n.duration, s = function () { if (!!r.mouseTail) { var c = r.mouseTail.getContext("2d"); !c || !r.tailPositions.length || (c.clearRect(0, 0, r.mouseTail.width, r.mouseTail.height), c.beginPath(), c.lineWidth = a, c.lineCap = i, c.strokeStyle = o, c.moveTo(r.tailPositions[0].x, r.tailPositions[0].y), r.tailPositions.forEach(function (l) { return c.lineTo(l.x, l.y) }), c.stroke()) } }; this.tailPositions.push(t), s(), setTimeout(function () { r.tailPositions = r.tailPositions.filter(function (c) { return c !== t }), s() }, u / this.speedService.state.context.timer.speed) } }, e.prototype.hoverElements = function (t) { var r; (r = this.iframe.contentDocument) === null || r === void 0 || r.querySelectorAll(".\\:hover").forEach(function (i) { i.classList.remove(":hover") }); for (var n = t; n;)n.classList && n.classList.add(":hover"), n = n.parentElement }, e.prototype.isUserInteraction = function (t) { return t.type !== g.EventType.IncrementalSnapshot ? !1 : t.data.source > g.IncrementalSource.Mutation && t.data.source <= g.IncrementalSource.Input }, e.prototype.backToNormal = function () { this.nextUserInteractionEvent = null, !this.speedService.state.matches("normal") && (this.speedService.send({ type: "BACK_TO_NORMAL" }), this.emitter.emit(g.ReplayerEvents.SkipEnd, { speed: this.speedService.state.context.normalSpeed })) }, e.prototype.storeState = function (t) { var r, n; if (t && t.nodeType === t.ELEMENT_NODE) { var i = t; (i.scrollLeft || i.scrollTop) && this.elementStateMap.set(t, { scroll: [i.scrollLeft, i.scrollTop] }); var a = i.children; try { for (var o = re(Array.from(a)), u = o.next(); !u.done; u = o.next()) { var s = u.value; this.storeState(s) } } catch (c) { r = { error: c } } finally { try { u && !u.done && (n = o.return) && n.call(o) } finally { if (r) throw r.error } } } }, e.prototype.restoreState = function (t) { var r, n; if (t.nodeType === t.ELEMENT_NODE) { var i = t; if (this.elementStateMap.has(t)) { var a = this.elementStateMap.get(t); a.scroll && (i.scrollLeft = a.scroll[0], i.scrollTop = a.scroll[1]), this.elementStateMap.delete(t) } var o = i.children; try { for (var u = re(Array.from(o)), s = u.next(); !s.done; s = u.next()) { var c = s.value; this.restoreState(c) } } catch (l) { r = { error: l } } finally { try { s && !s.done && (n = u.return) && n.call(u) } finally { if (r) throw r.error } } } }, e.prototype.warnNodeNotFound = function (t, r) { this.warn("Node with id '" + r + "' not found in", t) }, e.prototype.warnCanvasMutationFailed = function (t, r, n) { this.warn("Has error on update canvas '" + r + "'", t, n) }, e.prototype.debugNodeNotFound = function (t, r) { this.debug(Ut, "Node with id '" + r + "' not found in", t) }, e.prototype.warn = function () { for (var t = [], r = 0; r < arguments.length; r++)t[r] = arguments[r]; !this.config.showWarning || console.warn.apply(console, H([Ut], t)) }, e.prototype.debug = function () { for (var t = [], r = 0; r < arguments.length; r++)t[r] = arguments[r]; !this.config.showDebug || console.log.apply(console, H([Ut], t)) }, e
		}(), go = nt.addCustomEvent, bo = nt.freezePage, oe = Uint8Array, le = Uint16Array, Ve = Uint32Array, wt = new oe([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]), Ct = new oe([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]), $t = new oe([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]), An = function (e, t) { for (var r = new le(31), n = 0; n < 31; ++n)r[n] = t += 1 << e[n - 1]; for (var i = new Ve(r[30]), n = 1; n < 30; ++n)for (var a = r[n]; a < r[n + 1]; ++a)i[a] = a - r[n] << 5 | n; return [r, i] }, In = An(wt, 2), Nn = In[0], Qt = In[1]; Nn[28] = 258, Qt[258] = 28; var Mn = An(Ct, 0), wo = Mn[0], vn = Mn[1], Zt = new le(32768); for (B = 0; B < 32768; ++B)Ae = (B & 43690) >>> 1 | (B & 21845) << 1, Ae = (Ae & 52428) >>> 2 | (Ae & 13107) << 2, Ae = (Ae & 61680) >>> 4 | (Ae & 3855) << 4, Zt[B] = ((Ae & 65280) >>> 8 | (Ae & 255) << 8) >>> 1; var Ae, B, Se = function (e, t, r) { for (var n = e.length, i = 0, a = new le(t); i < n; ++i)++a[e[i] - 1]; var o = new le(t); for (i = 0; i < t; ++i)o[i] = o[i - 1] + a[i - 1] << 1; var u; if (r) { u = new le(1 << t); var s = 15 - t; for (i = 0; i < n; ++i)if (e[i]) for (var c = i << 4 | e[i], l = t - e[i], f = o[e[i] - 1]++ << l, v = f | (1 << l) - 1; f <= v; ++f)u[Zt[f] >>> s] = c } else for (u = new le(n), i = 0; i < n; ++i)u[i] = Zt[o[e[i] - 1]++] >>> 15 - e[i]; return u }, Oe = new oe(288); for (B = 0; B < 144; ++B)Oe[B] = 8; var B; for (B = 144; B < 256; ++B)Oe[B] = 9; var B; for (B = 256; B < 280; ++B)Oe[B] = 7; var B; for (B = 280; B < 288; ++B)Oe[B] = 8; var B, rt = new oe(32); for (B = 0; B < 32; ++B)rt[B] = 5; var B, Co = Se(Oe, 9, 0), So = Se(Oe, 9, 1), Eo = Se(rt, 5, 0), xo = Se(rt, 5, 1), zt = function (e) { for (var t = e[0], r = 1; r < e.length; ++r)e[r] > t && (t = e[r]); return t }, me = function (e, t, r) { var n = t / 8 >> 0; return (e[n] | e[n + 1] << 8) >>> (t & 7) & r }, Vt = function (e, t) { var r = t / 8 >> 0; return (e[r] | e[r + 1] << 8 | e[r + 2] << 16) >>> (t & 7) }, lr = function (e) { return (e / 8 >> 0) + (e & 7 && 1) }, fr = function (e, t, r) { (t == null || t < 0) && (t = 0), (r == null || r > e.length) && (r = e.length); var n = new (e instanceof le ? le : e instanceof Ve ? Ve : oe)(r - t); return n.set(e.subarray(t, r)), n }, To = function (e, t, r) { var n = e.length, i = !t || r, a = !r || r.i; r || (r = {}), t || (t = new oe(n * 3)); var o = function (Le) { var Ne = t.length; if (Le > Ne) { var Me = new oe(Math.max(Ne * 2, Le)); Me.set(t), t = Me } }, u = r.f || 0, s = r.p || 0, c = r.b || 0, l = r.l, f = r.d, v = r.m, h = r.n; if (u && !l) return t; var d = n * 8; do { if (!l) { r.f = u = me(e, s, 1); var b = me(e, s + 1, 3); if (s += 3, b) if (b == 1) l = So, f = xo, v = 9, h = 5; else if (b == 2) { var E = me(e, s, 31) + 257, x = me(e, s + 10, 15) + 4, k = E + me(e, s + 5, 31) + 1; s += 14; for (var S = new oe(k), A = new oe(19), C = 0; C < x; ++C)A[$t[C]] = me(e, s + C * 3, 7); s += x * 3; var M = zt(A), D = (1 << M) - 1; if (!a && s + k * (M + 7) > d) break; for (var $ = Se(A, M, 1), C = 0; C < k;) { var F = $[me(e, s, D)]; s += F & 15; var m = F >>> 4; if (m < 16) S[C++] = m; else { var U = 0, _ = 0; for (m == 16 ? (_ = 3 + me(e, s, 3), s += 2, U = S[C - 1]) : m == 17 ? (_ = 3 + me(e, s, 7), s += 3) : m == 18 && (_ = 11 + me(e, s, 127), s += 7); _--;)S[C++] = U } } var te = S.subarray(0, E), V = S.subarray(E); v = zt(te), h = zt(V), l = Se(te, v, 1), f = Se(V, h, 1) } else throw "invalid block type"; else { var m = lr(s) + 4, p = e[m - 4] | e[m - 3] << 8, w = m + p; if (w > n) { if (a) throw "unexpected EOF"; break } i && o(c + p), t.set(e.subarray(m, w), c), r.b = c += p, r.p = s = w * 8; continue } if (s > d) throw "unexpected EOF" } i && o(c + 131072); for (var K = (1 << v) - 1, Z = (1 << h) - 1, T = v + h + 18; a || s + T < d;) { var U = l[Vt(e, s) & K], y = U >>> 4; if (s += U & 15, s > d) throw "unexpected EOF"; if (!U) throw "invalid length/literal"; if (y < 256) t[c++] = y; else if (y == 256) { l = null; break } else { var I = y - 254; if (y > 264) { var C = y - 257, R = wt[C]; I = me(e, s, (1 << R) - 1) + Nn[C], s += R } var z = f[Vt(e, s) & Z], G = z >>> 4; if (!z) throw "invalid distance"; s += z & 15; var V = wo[G]; if (G > 3) { var R = Ct[G]; V += Vt(e, s) & (1 << R) - 1, s += R } if (s > d) throw "unexpected EOF"; i && o(c + 131072); for (var ie = c + I; c < ie; c += 4)t[c] = t[c - V], t[c + 1] = t[c + 1 - V], t[c + 2] = t[c + 2 - V], t[c + 3] = t[c + 3 - V]; c = ie } } r.l = l, r.p = s, r.b = c, l && (u = 1, r.m = v, r.d = f, r.n = h) } while (!u); return c == t.length ? t : fr(t, 0, c) }, Ie = function (e, t, r) { r <<= t & 7; var n = t / 8 >> 0; e[n] |= r, e[n + 1] |= r >>> 8 }, $e = function (e, t, r) { r <<= t & 7; var n = t / 8 >> 0; e[n] |= r, e[n + 1] |= r >>> 8, e[n + 2] |= r >>> 16 }, Wt = function (e, t) { for (var r = [], n = 0; n < e.length; ++n)e[n] && r.push({ s: n, f: e[n] }); var i = r.length, a = r.slice(); if (!i) return [new oe(0), 0]; if (i == 1) { var o = new oe(r[0].s + 1); return o[r[0].s] = 1, [o, 1] } r.sort(function (k, S) { return k.f - S.f }), r.push({ s: -1, f: 25001 }); var u = r[0], s = r[1], c = 0, l = 1, f = 2; for (r[0] = { s: -1, f: u.f + s.f, l: u, r: s }; l != i - 1;)u = r[r[c].f < r[f].f ? c++ : f++], s = r[c != l && r[c].f < r[f].f ? c++ : f++], r[l++] = { s: -1, f: u.f + s.f, l: u, r: s }; for (var v = a[0].s, n = 1; n < i; ++n)a[n].s > v && (v = a[n].s); var h = new le(v + 1), d = er(r[l - 1], h, 0); if (d > t) { var n = 0, b = 0, m = d - t, p = 1 << m; for (a.sort(function (S, A) { return h[A.s] - h[S.s] || S.f - A.f }); n < i; ++n) { var w = a[n].s; if (h[w] > t) b += p - (1 << d - h[w]), h[w] = t; else break } for (b >>>= m; b > 0;) { var E = a[n].s; h[E] < t ? b -= 1 << t - h[E]++ - 1 : ++n } for (; n >= 0 && b; --n) { var x = a[n].s; h[x] == t && (--h[x], ++b) } d = t } return [new oe(h), d] }, er = function (e, t, r) { return e.s == -1 ? Math.max(er(e.l, t, r + 1), er(e.r, t, r + 1)) : t[e.s] = r }, mn = function (e) { for (var t = e.length; t && !e[--t];); for (var r = new le(++t), n = 0, i = e[0], a = 1, o = function (s) { r[n++] = s }, u = 1; u <= t; ++u)if (e[u] == i && u != t) ++a; else { if (!i && a > 2) { for (; a > 138; a -= 138)o(32754); a > 2 && (o(a > 10 ? a - 11 << 5 | 28690 : a - 3 << 5 | 12305), a = 0) } else if (a > 3) { for (o(i), --a; a > 6; a -= 6)o(8304); a > 2 && (o(a - 3 << 5 | 8208), a = 0) } for (; a--;)o(i); a = 1, i = e[u] } return [r.subarray(0, n), t] }, Qe = function (e, t) { for (var r = 0, n = 0; n < t.length; ++n)r += e[n] * t[n]; return r }, vt = function (e, t, r) { var n = r.length, i = lr(t + 2); e[i] = n & 255, e[i + 1] = n >>> 8, e[i + 2] = e[i] ^ 255, e[i + 3] = e[i + 1] ^ 255; for (var a = 0; a < n; ++a)e[i + a + 4] = r[a]; return (i + 4 + n) * 8 }, yn = function (e, t, r, n, i, a, o, u, s, c, l) { Ie(t, l++, r), ++i[256]; for (var f = Wt(i, 15), v = f[0], h = f[1], d = Wt(a, 15), b = d[0], m = d[1], p = mn(v), w = p[0], E = p[1], x = mn(b), k = x[0], S = x[1], A = new le(19), C = 0; C < w.length; ++C)A[w[C] & 31]++; for (var C = 0; C < k.length; ++C)A[k[C] & 31]++; for (var M = Wt(A, 7), D = M[0], $ = M[1], F = 19; F > 4 && !D[$t[F - 1]]; --F); var U = c + 5 << 3, _ = Qe(i, Oe) + Qe(a, rt) + o, te = Qe(i, v) + Qe(a, b) + o + 14 + 3 * F + Qe(A, D) + (2 * A[16] + 3 * A[17] + 7 * A[18]); if (U <= _ && U <= te) return vt(t, l, e.subarray(s, s + c)); var V, K, Z, T; if (Ie(t, l, 1 + (te < _)), l += 2, te < _) { V = Se(v, h, 0), K = v, Z = Se(b, m, 0), T = b; var y = Se(D, $, 0); Ie(t, l, E - 257), Ie(t, l + 5, S - 1), Ie(t, l + 10, F - 4), l += 14; for (var C = 0; C < F; ++C)Ie(t, l + 3 * C, D[$t[C]]); l += 3 * F; for (var I = [w, k], R = 0; R < 2; ++R)for (var z = I[R], C = 0; C < z.length; ++C) { var G = z[C] & 31; Ie(t, l, y[G]), l += D[G], G > 15 && (Ie(t, l, z[C] >>> 5 & 127), l += z[C] >>> 12) } } else V = Co, K = Oe, Z = Eo, T = rt; for (var C = 0; C < u; ++C)if (n[C] > 255) { var G = n[C] >>> 18 & 31; $e(t, l, V[G + 257]), l += K[G + 257], G > 7 && (Ie(t, l, n[C] >>> 23 & 31), l += wt[G]); var ie = n[C] & 31; $e(t, l, Z[ie]), l += T[ie], ie > 3 && ($e(t, l, n[C] >>> 5 & 8191), l += Ct[ie]) } else $e(t, l, V[n[C]]), l += K[n[C]]; return $e(t, l, V[256]), l + K[256] }, ko = new Ve([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]), Ao = new oe(0), Io = function (e, t, r, n, i, a) { var o = e.length, u = new oe(n + o + 5 * (1 + Math.floor(o / 7e3)) + i), s = u.subarray(n, u.length - i), c = 0; if (!t || o < 8) for (var l = 0; l <= o; l += 65535) { var f = l + 65535; f < o ? c = vt(s, c, e.subarray(l, f)) : (s[l] = a, c = vt(s, c, e.subarray(l, o))) } else { for (var v = ko[t - 1], h = v >>> 13, d = v & 8191, b = (1 << r) - 1, m = new le(32768), p = new le(b + 1), w = Math.ceil(r / 3), E = 2 * w, x = function (qt) { return (e[qt] ^ e[qt + 1] << w ^ e[qt + 2] << E) & b }, k = new Ve(25e3), S = new le(288), A = new le(32), C = 0, M = 0, l = 0, D = 0, $ = 0, F = 0; l < o; ++l) { var U = x(l), _ = l & 32767, te = p[U]; if (m[_] = te, p[U] = _, $ <= l) { var V = o - l; if ((C > 7e3 || D > 24576) && V > 423) { c = yn(e, s, 0, k, S, A, M, D, F, l - F, c), D = C = M = 0, F = l; for (var K = 0; K < 286; ++K)S[K] = 0; for (var K = 0; K < 30; ++K)A[K] = 0 } var Z = 2, T = 0, y = d, I = _ - te & 32767; if (V > 2 && U == x(l - I)) for (var R = Math.min(h, V) - 1, z = Math.min(32767, l), G = Math.min(258, V); I <= z && --y && _ != te;) { if (e[l + Z] == e[l + Z - I]) { for (var ie = 0; ie < G && e[l + ie] == e[l + ie - I]; ++ie); if (ie > Z) { if (Z = ie, T = I, ie > R) break; for (var Le = Math.min(I, ie - 2), Ne = 0, K = 0; K < Le; ++K) { var Me = l - I + K + 32768 & 32767, ya = m[Me], Qr = Me - ya + 32768 & 32767; Qr > Ne && (Ne = Qr, te = Me) } } } _ = te, te = m[_], I += _ - te + 32768 & 32767 } if (T) { k[D++] = 268435456 | Qt[Z] << 18 | vn[T]; var Zr = Qt[Z] & 31, en = vn[T] & 31; M += wt[Zr] + Ct[en], ++S[257 + Zr], ++A[en], $ = l + Z, ++C } else k[D++] = e[l], ++S[e[l]] } } c = yn(e, s, a, k, S, A, M, D, F, l - F, c), a || (c = vt(s, c, Ao)) } return fr(u, 0, n + lr(c) + i) }, No = new Ve(256); for (B = 0; B < 256; ++B) { for (Ze = B, gn = 9; --gn;)Ze = (Ze & 1 && 3988292384) ^ Ze >>> 1; No[B] = Ze } var Ze, gn, B, Mo = function () { var e = 1, t = 0; return { p: function (r) { for (var n = e, i = t, a = r.length, o = 0; o != a;) { for (var u = Math.min(o + 5552, a); o < u; ++o)n += r[o], i += n; n %= 65521, i %= 65521 } e = n, t = i }, d: function () { return (e >>> 8 << 16 | (t & 255) << 8 | t >>> 8) + ((e & 255) << 23) * 2 } } }, Oo = function (e, t, r, n, i) { return Io(e, t.level == null ? 6 : t.level, t.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(e.length))) * 1.5) : 12 + t.mem, r, n, !i) }, Fo = function (e, t, r) { for (; r; ++t)e[t] = r, r >>>= 8 }, Ro = function (e, t) { var r = t.level, n = r == 0 ? 0 : r < 6 ? 1 : r == 9 ? 3 : 2; e[0] = 120, e[1] = n << 6 | (n ? 32 - 2 * n : 1) }, Do = function (e) { if ((e[0] & 15) != 8 || e[0] >>> 4 > 7 || (e[0] << 8 | e[1]) % 31) throw "invalid zlib data"; if (e[1] & 32) throw "invalid zlib data: preset dictionaries not supported" }; function Bo(e, t) { t === void 0 && (t = {}); var r = Mo(); r.p(e); var n = Oo(e, t, 2, 4); return Ro(n, t), Fo(n, n.length - 4, r.d()), n } function Lo(e, t) { return To((Do(e), e.subarray(2, -4)), t) } function On(e, t) { var r = e.length; if (!t && typeof TextEncoder < "u") return new TextEncoder().encode(e); for (var n = new oe(e.length + (e.length >>> 1)), i = 0, a = function (c) { n[i++] = c }, o = 0; o < r; ++o) { if (i + 5 > n.length) { var u = new oe(i + 8 + (r - o << 1)); u.set(n), n = u } var s = e.charCodeAt(o); s < 128 || t ? a(s) : s < 2048 ? (a(192 | s >>> 6), a(128 | s & 63)) : s > 55295 && s < 57344 ? (s = 65536 + (s & 1023 << 10) | e.charCodeAt(++o) & 1023, a(240 | s >>> 18), a(128 | s >>> 12 & 63), a(128 | s >>> 6 & 63), a(128 | s & 63)) : (a(224 | s >>> 12), a(128 | s >>> 6 & 63), a(128 | s & 63)) } return fr(n, 0, i) } function Fn(e, t) { var r = ""; if (!t && typeof TextDecoder < "u") return new TextDecoder().decode(e); for (var n = 0; n < e.length;) { var i = e[n++]; i < 128 || t ? r += String.fromCharCode(i) : i < 224 ? r += String.fromCharCode((i & 31) << 6 | e[n++] & 63) : i < 240 ? r += String.fromCharCode((i & 15) << 12 | (e[n++] & 63) << 6 | e[n++] & 63) : (i = ((i & 15) << 18 | (e[n++] & 63) << 12 | (e[n++] & 63) << 6 | e[n++] & 63) - 65536, r += String.fromCharCode(55296 | i >> 10, 56320 | i & 1023)) } return r } var tr = "v1", Po = function (e) { var t = Y(Y({}, e), { v: tr }); return Fn(Bo(On(JSON.stringify(t))), !0) }, qo = function (e) { if (typeof e != "string") return e; try { var t = JSON.parse(e); if (t.timestamp) return t } catch { } try { var t = JSON.parse(Fn(Lo(On(e, !0)))); if (t.v === tr) return t; throw new Error("These events were packed with packer " + t.v + " which is incompatible with current packer " + tr + ".") } catch (r) { throw console.error(r), new Error("Unknown data format.") } }; g.Replayer = yo; g.addCustomEvent = go; g.freezePage = bo; g.mirror = N; g.pack = Po; g.record = nt; g.unpack = qo; g.utils = Ua
	}); var hr = O((Vu, Dn) => { var _o = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/, Uo = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"]; Dn.exports = function (t) { var r = t, n = t.indexOf("["), i = t.indexOf("]"); n != -1 && i != -1 && (t = t.substring(0, n) + t.substring(n, i).replace(/:/g, ";") + t.substring(i, t.length)); for (var a = _o.exec(t || ""), o = {}, u = 14; u--;)o[Uo[u]] = a[u] || ""; return n != -1 && i != -1 && (o.source = r, o.host = o.host.substring(1, o.host.length - 1).replace(/;/g, ":"), o.authority = o.authority.replace("[", "").replace("]", "").replace(/;/g, ":"), o.ipv6uri = !0), o.pathNames = Ho(o, o.path), o.queryKey = zo(o, o.query), o }; function Ho(e, t) { var r = /\/{2,9}/g, n = t.replace(r, "/").split("/"); return (t.substr(0, 1) == "/" || t.length === 0) && n.splice(0, 1), t.substr(t.length - 1, 1) == "/" && n.splice(n.length - 1, 1), n } function zo(e, t) { var r = {}; return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function (n, i, a) { i && (r[i] = a) }), r } }); var Ln = O((Wu, Bn) => { var it = 1e3, at = it * 60, ot = at * 60, st = ot * 24, Vo = st * 365.25; Bn.exports = function (e, t) { t = t || {}; var r = typeof e; if (r === "string" && e.length > 0) return Wo(e); if (r === "number" && isNaN(e) === !1) return t.long ? jo(e) : Xo(e); throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(e)) }; function Wo(e) { if (e = String(e), !(e.length > 100)) { var t = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e); if (!!t) { var r = parseFloat(t[1]), n = (t[2] || "ms").toLowerCase(); switch (n) { case "years": case "year": case "yrs": case "yr": case "y": return r * Vo; case "days": case "day": case "d": return r * st; case "hours": case "hour": case "hrs": case "hr": case "h": return r * ot; case "minutes": case "minute": case "mins": case "min": case "m": return r * at; case "seconds": case "second": case "secs": case "sec": case "s": return r * it; case "milliseconds": case "millisecond": case "msecs": case "msec": case "ms": return r; default: return } } } } function Xo(e) { return e >= st ? Math.round(e / st) + "d" : e >= ot ? Math.round(e / ot) + "h" : e >= at ? Math.round(e / at) + "m" : e >= it ? Math.round(e / it) + "s" : e + "ms" } function jo(e) { return St(e, st, "day") || St(e, ot, "hour") || St(e, at, "minute") || St(e, it, "second") || e + " ms" } function St(e, t, r) { if (!(e < t)) return e < t * 1.5 ? Math.floor(e / t) + " " + r : Math.ceil(e / t) + " " + r + "s" } }); var qn = O((L, Pn) => { L = Pn.exports = pr.debug = pr.default = pr; L.coerce = Qo; L.disable = Go; L.enable = Jo; L.enabled = $o; L.humanize = Ln(); L.instances = []; L.names = []; L.skips = []; L.formatters = {}; function Yo(e) { var t = 0, r; for (r in e) t = (t << 5) - t + e.charCodeAt(r), t |= 0; return L.colors[Math.abs(t) % L.colors.length] } function pr(e) { var t; function r() { if (!!r.enabled) { var n = r, i = +new Date, a = i - (t || i); n.diff = a, n.prev = t, n.curr = i, t = i; for (var o = new Array(arguments.length), u = 0; u < o.length; u++)o[u] = arguments[u]; o[0] = L.coerce(o[0]), typeof o[0] != "string" && o.unshift("%O"); var s = 0; o[0] = o[0].replace(/%([a-zA-Z%])/g, function (l, f) { if (l === "%%") return l; s++; var v = L.formatters[f]; if (typeof v == "function") { var h = o[s]; l = v.call(n, h), o.splice(s, 1), s-- } return l }), L.formatArgs.call(n, o); var c = r.log || L.log || console.log.bind(console); c.apply(n, o) } } return r.namespace = e, r.enabled = L.enabled(e), r.useColors = L.useColors(), r.color = Yo(e), r.destroy = Ko, typeof L.init == "function" && L.init(r), L.instances.push(r), r } function Ko() { var e = L.instances.indexOf(this); return e !== -1 ? (L.instances.splice(e, 1), !0) : !1 } function Jo(e) { L.save(e), L.names = [], L.skips = []; var t, r = (typeof e == "string" ? e : "").split(/[\s,]+/), n = r.length; for (t = 0; t < n; t++)!r[t] || (e = r[t].replace(/\*/g, ".*?"), e[0] === "-" ? L.skips.push(new RegExp("^" + e.substr(1) + "$")) : L.names.push(new RegExp("^" + e + "$"))); for (t = 0; t < L.instances.length; t++) { var i = L.instances[t]; i.enabled = L.enabled(i.namespace) } } function Go() { L.enable("") } function $o(e) { if (e[e.length - 1] === "*") return !0; var t, r; for (t = 0, r = L.skips.length; t < r; t++)if (L.skips[t].test(e)) return !1; for (t = 0, r = L.names.length; t < r; t++)if (L.names[t].test(e)) return !0; return !1 } function Qo(e) { return e instanceof Error ? e.stack || e.message : e } }); var Ee = O((fe, Un) => { fe = Un.exports = qn(); fe.log = ts; fe.formatArgs = es; fe.save = rs; fe.load = _n; fe.useColors = Zo; fe.storage = typeof chrome < "u" && typeof chrome.storage < "u" ? chrome.storage.local : ns(); fe.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"]; function Zo() { return typeof window < "u" && window.process && window.process.type === "renderer" ? !0 : typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/) ? !1 : typeof document < "u" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || typeof window < "u" && window.console && (window.console.firebug || window.console.exception && window.console.table) || typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/) } fe.formatters.j = function (e) { try { return JSON.stringify(e) } catch (t) { return "[UnexpectedJSONParseError]: " + t.message } }; function es(e) { var t = this.useColors; if (e[0] = (t ? "%c" : "") + this.namespace + (t ? " %c" : " ") + e[0] + (t ? "%c " : " ") + "+" + fe.humanize(this.diff), !!t) { var r = "color: " + this.color; e.splice(1, 0, r, "color: inherit"); var n = 0, i = 0; e[0].replace(/%[a-zA-Z%]/g, function (a) { a !== "%%" && (n++, a === "%c" && (i = n)) }), e.splice(i, 0, r) } } function ts() { return typeof console == "object" && console.log && Function.prototype.apply.call(console.log, console, arguments) } function rs(e) { try { e == null ? fe.storage.removeItem("debug") : fe.storage.debug = e } catch { } } function _n() { var e; try { e = fe.storage.debug } catch { } return !e && typeof process < "u" && "env" in process && (e = process.env.DEBUG), e } fe.enable(_n()); function ns() { try { return window.localStorage } catch { } } }); var Vn = O((Xu, zn) => { var is = hr(), Hn = Ee()("socket.io-client:url"); zn.exports = as; function as(e, t) { var r = e; t = t || typeof location < "u" && location, e == null && (e = t.protocol + "//" + t.host), typeof e == "string" && (e.charAt(0) === "/" && (e.charAt(1) === "/" ? e = t.protocol + e : e = t.host + e), /^(https?|wss?):\/\//.test(e) || (Hn("protocol-less url %s", e), typeof t < "u" ? e = t.protocol + "//" + e : e = "https://" + e), Hn("parse %s", e), r = is(e)), r.port || (/^(http|ws)$/.test(r.protocol) ? r.port = "80" : /^(http|ws)s$/.test(r.protocol) && (r.port = "443")), r.path = r.path || "/"; var n = r.host.indexOf(":") !== -1, i = n ? "[" + r.host + "]" : r.host; return r.id = r.protocol + "://" + i + ":" + r.port, r.href = r.protocol + "://" + i + (t && t.port === r.port ? "" : ":" + r.port), r } }); var Pe = O((ju, dr) => { typeof dr < "u" && (dr.exports = pe); function pe(e) { if (e) return os(e) } function os(e) { for (var t in pe.prototype) e[t] = pe.prototype[t]; return e } pe.prototype.on = pe.prototype.addEventListener = function (e, t) { return this._callbacks = this._callbacks || {}, (this._callbacks["$" + e] = this._callbacks["$" + e] || []).push(t), this }; pe.prototype.once = function (e, t) { function r() { this.off(e, r), t.apply(this, arguments) } return r.fn = t, this.on(e, r), this }; pe.prototype.off = pe.prototype.removeListener = pe.prototype.removeAllListeners = pe.prototype.removeEventListener = function (e, t) { if (this._callbacks = this._callbacks || {}, arguments.length == 0) return this._callbacks = {}, this; var r = this._callbacks["$" + e]; if (!r) return this; if (arguments.length == 1) return delete this._callbacks["$" + e], this; for (var n, i = 0; i < r.length; i++)if (n = r[i], n === t || n.fn === t) { r.splice(i, 1); break } return r.length === 0 && delete this._callbacks["$" + e], this }; pe.prototype.emit = function (e) { this._callbacks = this._callbacks || {}; for (var t = new Array(arguments.length - 1), r = this._callbacks["$" + e], n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; if (r) { r = r.slice(0); for (var n = 0, i = r.length; n < i; ++n)r[n].apply(this, t) } return this }; pe.prototype.listeners = function (e) { return this._callbacks = this._callbacks || {}, this._callbacks["$" + e] || [] }; pe.prototype.hasListeners = function (e) { return !!this.listeners(e).length } }); var vr = O((Yu, Wn) => { var ss = {}.toString; Wn.exports = Array.isArray || function (e) { return ss.call(e) == "[object Array]" } }); var mr = O((Ku, Xn) => { Xn.exports = fs; var us = typeof Buffer == "function" && typeof Buffer.isBuffer == "function", cs = typeof ArrayBuffer == "function", ls = function (e) { return typeof ArrayBuffer.isView == "function" ? ArrayBuffer.isView(e) : e.buffer instanceof ArrayBuffer }; function fs(e) { return us && Buffer.isBuffer(e) || cs && (e instanceof ArrayBuffer || ls(e)) } }); var Kn = O(Et => { var br = vr(), jn = mr(), Yn = Object.prototype.toString, hs = typeof Blob == "function" || typeof Blob < "u" && Yn.call(Blob) === "[object BlobConstructor]", ps = typeof File == "function" || typeof File < "u" && Yn.call(File) === "[object FileConstructor]"; Et.deconstructPacket = function (e) { var t = [], r = e.data, n = e; return n.data = yr(r, t), n.attachments = t.length, { packet: n, buffers: t } }; function yr(e, t) { if (!e) return e; if (jn(e)) { var r = { _placeholder: !0, num: t.length }; return t.push(e), r } else if (br(e)) { for (var n = new Array(e.length), i = 0; i < e.length; i++)n[i] = yr(e[i], t); return n } else if (typeof e == "object" && !(e instanceof Date)) { var n = {}; for (var a in e) n[a] = yr(e[a], t); return n } return e } Et.reconstructPacket = function (e, t) { return e.data = gr(e.data, t), e.attachments = void 0, e }; function gr(e, t) { if (!e) return e; if (e && e._placeholder === !0) { var r = typeof e.num == "number" && e.num >= 0 && e.num < t.length; if (r) return t[e.num]; throw new Error("illegal attachments") } else if (br(e)) for (var n = 0; n < e.length; n++)e[n] = gr(e[n], t); else if (typeof e == "object") for (var i in e) e[i] = gr(e[i], t); return e } Et.removeBlobs = function (e, t) { function r(a, o, u) { if (!a) return a; if (hs && a instanceof Blob || ps && a instanceof File) { n++; var s = new FileReader; s.onload = function () { u ? u[o] = this.result : i = this.result, --n || t(i) }, s.readAsArrayBuffer(a) } else if (br(a)) for (var c = 0; c < a.length; c++)r(a[c], c, a); else if (typeof a == "object" && !jn(a)) for (var l in a) r(a[l], l, a) } var n = 0, i = e; r(i), n || t(i) } }); var Tt = O(J => { var Cr = Ee()("socket.io-parser"), ds = Pe(), wr = Kn(), vs = vr(), ms = mr(); J.protocol = 4; J.types = ["CONNECT", "DISCONNECT", "EVENT", "ACK", "ERROR", "BINARY_EVENT", "BINARY_ACK"]; J.CONNECT = 0; J.DISCONNECT = 1; J.EVENT = 2; J.ACK = 3; J.ERROR = 4; J.BINARY_EVENT = 5; J.BINARY_ACK = 6; J.Encoder = Gn; J.Decoder = xt; function Gn() { } var ys = J.ERROR + '"encode error"'; Gn.prototype.encode = function (e, t) { if (Cr("encoding packet %j", e), J.BINARY_EVENT === e.type || J.BINARY_ACK === e.type) bs(e, t); else { var r = $n(e); t([r]) } }; function $n(e) { var t = "" + e.type; if ((J.BINARY_EVENT === e.type || J.BINARY_ACK === e.type) && (t += e.attachments + "-"), e.nsp && e.nsp !== "/" && (t += e.nsp + ","), e.id != null && (t += e.id), e.data != null) { var r = gs(e.data); if (r !== !1) t += r; else return ys } return Cr("encoded %j as %s", e, t), t } function gs(e) { try { return JSON.stringify(e) } catch { return !1 } } function bs(e, t) { function r(n) { var i = wr.deconstructPacket(n), a = $n(i.packet), o = i.buffers; o.unshift(a), t(o) } wr.removeBlobs(e, r) } function xt() { this.reconstructor = null } ds(xt.prototype); xt.prototype.add = function (e) { var t; if (typeof e == "string") { if (this.reconstructor) throw new Error("got plaintext data when reconstructing a packet"); t = ws(e), J.BINARY_EVENT === t.type || J.BINARY_ACK === t.type ? (this.reconstructor = new Sr(t), this.reconstructor.reconPack.attachments === 0 && this.emit("decoded", t)) : this.emit("decoded", t) } else if (ms(e) || e.base64) if (this.reconstructor) t = this.reconstructor.takeBinaryData(e), t && (this.reconstructor = null, this.emit("decoded", t)); else throw new Error("got binary data when not reconstructing a packet"); else throw new Error("Unknown type: " + e) }; function ws(e) { var t = 0, r = { type: Number(e.charAt(0)) }; if (J.types[r.type] == null) return Jn("unknown packet type " + r.type); if (J.BINARY_EVENT === r.type || J.BINARY_ACK === r.type) { for (var n = t + 1; e.charAt(++t) !== "-" && t != e.length;); var i = e.substring(n, t); if (i != Number(i) || e.charAt(t) !== "-") throw new Error("Illegal attachments"); r.attachments = Number(i) } if (e.charAt(t + 1) === "/") { for (var n = t + 1; ++t;) { var a = e.charAt(t); if (a === "," || t === e.length) break } r.nsp = e.substring(n, t) } else r.nsp = "/"; var o = e.charAt(t + 1); if (o !== "" && Number(o) == o) { for (var n = t + 1; ++t;) { var a = e.charAt(t); if (a == null || Number(a) != a) { --t; break } if (t === e.length) break } r.id = Number(e.substring(n, t + 1)) } if (e.charAt(++t)) { var u = Cs(e.substr(t)), s = u !== !1 && (r.type === J.ERROR || vs(u)); if (s) r.data = u; else return Jn("invalid payload") } return Cr("decoded %s as %j", e, r), r } function Cs(e) { try { return JSON.parse(e) } catch { return !1 } } xt.prototype.destroy = function () { this.reconstructor && this.reconstructor.finishedReconstruction() }; function Sr(e) { this.reconPack = e, this.buffers = [] } Sr.prototype.takeBinaryData = function (e) { if (this.buffers.push(e), this.buffers.length === this.reconPack.attachments) { var t = wr.reconstructPacket(this.reconPack, this.buffers); return this.finishedReconstruction(), t } return null }; Sr.prototype.finishedReconstruction = function () { this.reconPack = null, this.buffers = [] }; function Jn(e) { return { type: J.ERROR, data: "parser error: " + e } } }); var Qn = O(($u, Er) => { try { Er.exports = typeof XMLHttpRequest < "u" && "withCredentials" in new XMLHttpRequest } catch { Er.exports = !1 } }); var kt = O((Qu, Zn) => { Zn.exports = function () { return typeof self < "u" ? self : typeof window < "u" ? window : Function("return this")() }() }); var At = O((Zu, ei) => { var Ss = Qn(), Es = kt(); ei.exports = function (e) { var t = e.xdomain, r = e.xscheme, n = e.enablesXDR; try { if (typeof XMLHttpRequest < "u" && (!t || Ss)) return new XMLHttpRequest } catch { } try { if (typeof XDomainRequest < "u" && !r && n) return new XDomainRequest } catch { } if (!t) try { return new Es[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP") } catch { } } }); var ri = O((ec, ti) => { ti.exports = Object.keys || function (t) { var r = [], n = Object.prototype.hasOwnProperty; for (var i in t) n.call(t, i) && r.push(i); return r } }); var ii = O((tc, ni) => { var xs = {}.toString; ni.exports = Array.isArray || function (e) { return xs.call(e) == "[object Array]" } }); var xr = O((rc, oi) => { var Ts = ii(), ai = Object.prototype.toString, ks = typeof Blob == "function" || typeof Blob < "u" && ai.call(Blob) === "[object BlobConstructor]", As = typeof File == "function" || typeof File < "u" && ai.call(File) === "[object FileConstructor]"; oi.exports = It; function It(e) { if (!e || typeof e != "object") return !1; if (Ts(e)) { for (var t = 0, r = e.length; t < r; t++)if (It(e[t])) return !0; return !1 } if (typeof Buffer == "function" && Buffer.isBuffer && Buffer.isBuffer(e) || typeof ArrayBuffer == "function" && e instanceof ArrayBuffer || ks && e instanceof Blob || As && e instanceof File) return !0; if (e.toJSON && typeof e.toJSON == "function" && arguments.length === 1) return It(e.toJSON(), !0); for (var n in e) if (Object.prototype.hasOwnProperty.call(e, n) && It(e[n])) return !0; return !1 } }); var ui = O((nc, si) => { si.exports = function (e, t, r) { var n = e.byteLength; if (t = t || 0, r = r || n, e.slice) return e.slice(t, r); if (t < 0 && (t += n), r < 0 && (r += n), r > n && (r = n), t >= n || t >= r || n === 0) return new ArrayBuffer(0); for (var i = new Uint8Array(e), a = new Uint8Array(r - t), o = t, u = 0; o < r; o++, u++)a[u] = i[o]; return a.buffer } }); var li = O((ic, ci) => { ci.exports = Is; function Is(e, t, r) { var n = !1; return r = r || Ns, i.count = e, e === 0 ? t() : i; function i(a, o) { if (i.count <= 0) throw new Error("after called too many times"); --i.count, a ? (n = !0, t(a), t = r) : i.count === 0 && !n && t(null, o) } } function Ns() { } }); var di = O((ac, pi) => { var Fe = String.fromCharCode; function fi(e) { for (var t = [], r = 0, n = e.length, i, a; r < n;)i = e.charCodeAt(r++), i >= 55296 && i <= 56319 && r < n ? (a = e.charCodeAt(r++), (a & 64512) == 56320 ? t.push(((i & 1023) << 10) + (a & 1023) + 65536) : (t.push(i), r--)) : t.push(i); return t } function Ms(e) { for (var t = e.length, r = -1, n, i = ""; ++r < t;)n = e[r], n > 65535 && (n -= 65536, i += Fe(n >>> 10 & 1023 | 55296), n = 56320 | n & 1023), i += Fe(n); return i } function hi(e, t) { if (e >= 55296 && e <= 57343) { if (t) throw Error("Lone surrogate U+" + e.toString(16).toUpperCase() + " is not a scalar value"); return !1 } return !0 } function Tr(e, t) { return Fe(e >> t & 63 | 128) } function Os(e, t) { if ((e & 4294967168) == 0) return Fe(e); var r = ""; return (e & 4294965248) == 0 ? r = Fe(e >> 6 & 31 | 192) : (e & 4294901760) == 0 ? (hi(e, t) || (e = 65533), r = Fe(e >> 12 & 15 | 224), r += Tr(e, 6)) : (e & 4292870144) == 0 && (r = Fe(e >> 18 & 7 | 240), r += Tr(e, 12), r += Tr(e, 6)), r += Fe(e & 63 | 128), r } function Fs(e, t) { t = t || {}; for (var r = t.strict !== !1, n = fi(e), i = n.length, a = -1, o, u = ""; ++a < i;)o = n[a], u += Os(o, r); return u } function We() { if (Re >= Mt) throw Error("Invalid byte index"); var e = Nt[Re] & 255; if (Re++, (e & 192) == 128) return e & 63; throw Error("Invalid continuation byte") } function Rs(e) { var t, r, n, i, a; if (Re > Mt) throw Error("Invalid byte index"); if (Re == Mt) return !1; if (t = Nt[Re] & 255, Re++, (t & 128) == 0) return t; if ((t & 224) == 192) { if (r = We(), a = (t & 31) << 6 | r, a >= 128) return a; throw Error("Invalid continuation byte") } if ((t & 240) == 224) { if (r = We(), n = We(), a = (t & 15) << 12 | r << 6 | n, a >= 2048) return hi(a, e) ? a : 65533; throw Error("Invalid continuation byte") } if ((t & 248) == 240 && (r = We(), n = We(), i = We(), a = (t & 7) << 18 | r << 12 | n << 6 | i, a >= 65536 && a <= 1114111)) return a; throw Error("Invalid UTF-8 detected") } var Nt, Mt, Re; function Ds(e, t) { t = t || {}; var r = t.strict !== !1; Nt = fi(e), Mt = Nt.length, Re = 0; for (var n = [], i; (i = Rs(r)) !== !1;)n.push(i); return Ms(n) } pi.exports = { version: "2.1.2", encode: Fs, decode: Ds } }); var vi = O(kr => { (function () { "use strict"; for (var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", t = new Uint8Array(256), r = 0; r < e.length; r++)t[e.charCodeAt(r)] = r; kr.encode = function (n) { var i = new Uint8Array(n), a, o = i.length, u = ""; for (a = 0; a < o; a += 3)u += e[i[a] >> 2], u += e[(i[a] & 3) << 4 | i[a + 1] >> 4], u += e[(i[a + 1] & 15) << 2 | i[a + 2] >> 6], u += e[i[a + 2] & 63]; return o % 3 === 2 ? u = u.substring(0, u.length - 1) + "=" : o % 3 === 1 && (u = u.substring(0, u.length - 2) + "=="), u }, kr.decode = function (n) { var i = n.length * .75, a = n.length, o, u = 0, s, c, l, f; n[n.length - 1] === "=" && (i--, n[n.length - 2] === "=" && i--); var v = new ArrayBuffer(i), h = new Uint8Array(v); for (o = 0; o < a; o += 4)s = t[n.charCodeAt(o)], c = t[n.charCodeAt(o + 1)], l = t[n.charCodeAt(o + 2)], f = t[n.charCodeAt(o + 3)], h[u++] = s << 2 | c >> 4, h[u++] = (c & 15) << 4 | l >> 2, h[u++] = (l & 3) << 6 | f & 63; return v } })() }); var Ci = O((sc, wi) => { var Xe = typeof Xe < "u" ? Xe : typeof WebKitBlobBuilder < "u" ? WebKitBlobBuilder : typeof MSBlobBuilder < "u" ? MSBlobBuilder : typeof MozBlobBuilder < "u" ? MozBlobBuilder : !1, mi = function () { try { var e = new Blob(["hi"]); return e.size === 2 } catch { return !1 } }(), Bs = mi && function () { try { var e = new Blob([new Uint8Array([1, 2])]); return e.size === 2 } catch { return !1 } }(), Ls = Xe && Xe.prototype.append && Xe.prototype.getBlob; function yi(e) { return e.map(function (t) { if (t.buffer instanceof ArrayBuffer) { var r = t.buffer; if (t.byteLength !== r.byteLength) { var n = new Uint8Array(t.byteLength); n.set(new Uint8Array(r, t.byteOffset, t.byteLength)), r = n.buffer } return r } return t }) } function gi(e, t) { t = t || {}; var r = new Xe; return yi(e).forEach(function (n) { r.append(n) }), t.type ? r.getBlob(t.type) : r.getBlob() } function bi(e, t) { return new Blob(yi(e), t || {}) } typeof Blob < "u" && (gi.prototype = Blob.prototype, bi.prototype = Blob.prototype); wi.exports = function () { return mi ? Bs ? Blob : bi : Ls ? gi : void 0 }() }); var qe = O(W => { var Ps = ri(), qs = xr(), Ot = ui(), _s = li(), Si = di(), Ar; typeof ArrayBuffer < "u" && (Ar = vi()); var Us = typeof navigator < "u" && /Android/i.test(navigator.userAgent), Hs = typeof navigator < "u" && /PhantomJS/i.test(navigator.userAgent), Ei = Us || Hs; W.protocol = 3; var Ft = W.packets = { open: 0, close: 1, ping: 2, pong: 3, message: 4, upgrade: 5, noop: 6 }, ut = Ps(Ft), be = { type: "error", data: "parser error" }, de = Ci(); W.encodePacket = function (e, t, r, n) { typeof t == "function" && (n = t, t = !1), typeof r == "function" && (n = r, r = null); var i = e.data === void 0 ? void 0 : e.data.buffer || e.data; if (typeof ArrayBuffer < "u" && i instanceof ArrayBuffer) return Vs(e, t, n); if (typeof de < "u" && i instanceof de) return Xs(e, t, n); if (i && i.base64) return zs(e, n); var a = Ft[e.type]; return e.data !== void 0 && (a += r ? Si.encode(String(e.data), { strict: !1 }) : String(e.data)), n("" + a) }; function zs(e, t) { var r = "b" + W.packets[e.type] + e.data.data; return t(r) } function Vs(e, t, r) { if (!t) return W.encodeBase64Packet(e, r); var n = e.data, i = new Uint8Array(n), a = new Uint8Array(1 + n.byteLength); a[0] = Ft[e.type]; for (var o = 0; o < i.length; o++)a[o + 1] = i[o]; return r(a.buffer) } function Ws(e, t, r) { if (!t) return W.encodeBase64Packet(e, r); var n = new FileReader; return n.onload = function () { W.encodePacket({ type: e.type, data: n.result }, t, !0, r) }, n.readAsArrayBuffer(e.data) } function Xs(e, t, r) { if (!t) return W.encodeBase64Packet(e, r); if (Ei) return Ws(e, t, r); var n = new Uint8Array(1); n[0] = Ft[e.type]; var i = new de([n.buffer, e.data]); return r(i) } W.encodeBase64Packet = function (e, t) { var r = "b" + W.packets[e.type]; if (typeof de < "u" && e.data instanceof de) { var n = new FileReader; return n.onload = function () { var s = n.result.split(",")[1]; t(r + s) }, n.readAsDataURL(e.data) } var i; try { i = String.fromCharCode.apply(null, new Uint8Array(e.data)) } catch { for (var a = new Uint8Array(e.data), o = new Array(a.length), u = 0; u < a.length; u++)o[u] = a[u]; i = String.fromCharCode.apply(null, o) } return r += btoa(i), t(r) }; W.decodePacket = function (e, t, r) { if (e === void 0) return be; if (typeof e == "string") { if (e.charAt(0) === "b") return W.decodeBase64Packet(e.substr(1), t); if (r && (e = js(e), e === !1)) return be; var i = e.charAt(0); return Number(i) != i || !ut[i] ? be : e.length > 1 ? { type: ut[i], data: e.substring(1) } : { type: ut[i] } } var n = new Uint8Array(e), i = n[0], a = Ot(e, 1); return de && t === "blob" && (a = new de([a])), { type: ut[i], data: a } }; function js(e) { try { e = Si.decode(e, { strict: !1 }) } catch { return !1 } return e } W.decodeBase64Packet = function (e, t) { var r = ut[e.charAt(0)]; if (!Ar) return { type: r, data: { base64: !0, data: e.substr(1) } }; var n = Ar.decode(e.substr(1)); return t === "blob" && de && (n = new de([n])), { type: r, data: n } }; W.encodePayload = function (e, t, r) { typeof t == "function" && (r = t, t = null); var n = qs(e); if (t && n) return de && !Ei ? W.encodePayloadAsBlob(e, r) : W.encodePayloadAsArrayBuffer(e, r); if (!e.length) return r("0:"); function i(o) { return o.length + ":" + o } function a(o, u) { W.encodePacket(o, n ? t : !1, !1, function (s) { u(null, i(s)) }) } Ir(e, a, function (o, u) { return r(u.join("")) }) }; function Ir(e, t, r) { for (var n = new Array(e.length), i = _s(e.length, r), a = function (u, s, c) { t(s, function (l, f) { n[u] = f, c(l, n) }) }, o = 0; o < e.length; o++)a(o, e[o], i) } W.decodePayload = function (e, t, r) { if (typeof e != "string") return W.decodePayloadAsBinary(e, t, r); typeof t == "function" && (r = t, t = null); var n; if (e === "") return r(be, 0, 1); for (var i = "", a, o, u = 0, s = e.length; u < s; u++) { var c = e.charAt(u); if (c !== ":") { i += c; continue } if (i === "" || i != (a = Number(i)) || (o = e.substr(u + 1, a), i != o.length)) return r(be, 0, 1); if (o.length) { if (n = W.decodePacket(o, t, !1), be.type === n.type && be.data === n.data) return r(be, 0, 1); var l = r(n, u + a, s); if (l === !1) return } u += a, i = "" } if (i !== "") return r(be, 0, 1) }; W.encodePayloadAsArrayBuffer = function (e, t) { if (!e.length) return t(new ArrayBuffer(0)); function r(n, i) { W.encodePacket(n, !0, !0, function (a) { return i(null, a) }) } Ir(e, r, function (n, i) { var a = i.reduce(function (s, c) { var l; return typeof c == "string" ? l = c.length : l = c.byteLength, s + l.toString().length + l + 2 }, 0), o = new Uint8Array(a), u = 0; return i.forEach(function (s) { var c = typeof s == "string", l = s; if (c) { for (var h = new Uint8Array(s.length), f = 0; f < s.length; f++)h[f] = s.charCodeAt(f); l = h.buffer } c ? o[u++] = 0 : o[u++] = 1; for (var v = l.byteLength.toString(), f = 0; f < v.length; f++)o[u++] = parseInt(v[f]); o[u++] = 255; for (var h = new Uint8Array(l), f = 0; f < h.length; f++)o[u++] = h[f] }), t(o.buffer) }) }; W.encodePayloadAsBlob = function (e, t) { function r(n, i) { W.encodePacket(n, !0, !0, function (a) { var o = new Uint8Array(1); if (o[0] = 1, typeof a == "string") { for (var u = new Uint8Array(a.length), s = 0; s < a.length; s++)u[s] = a.charCodeAt(s); a = u.buffer, o[0] = 0 } for (var c = a instanceof ArrayBuffer ? a.byteLength : a.size, l = c.toString(), f = new Uint8Array(l.length + 1), s = 0; s < l.length; s++)f[s] = parseInt(l[s]); if (f[l.length] = 255, de) { var v = new de([o.buffer, f.buffer, a]); i(null, v) } }) } Ir(e, r, function (n, i) { return t(new de(i)) }) }; W.decodePayloadAsBinary = function (e, t, r) { typeof t == "function" && (r = t, t = null); for (var n = e, i = []; n.byteLength > 0;) { for (var a = new Uint8Array(n), o = a[0] === 0, u = "", s = 1; a[s] !== 255; s++) { if (u.length > 310) return r(be, 0, 1); u += a[s] } n = Ot(n, 2 + u.length), u = parseInt(u); var c = Ot(n, 0, u); if (o) try { c = String.fromCharCode.apply(null, new Uint8Array(c)) } catch { var l = new Uint8Array(c); c = ""; for (var s = 0; s < l.length; s++)c += String.fromCharCode(l[s]) } i.push(c), n = Ot(n, u) } var f = i.length; i.forEach(function (v, h) { r(W.decodePacket(v, t, !0), h, f) }) } }); var Rt = O((cc, xi) => { var Ys = qe(), Ks = Pe(); xi.exports = xe; function xe(e) { this.path = e.path, this.hostname = e.hostname, this.port = e.port, this.secure = e.secure, this.query = e.query, this.timestampParam = e.timestampParam, this.timestampRequests = e.timestampRequests, this.readyState = "", this.agent = e.agent || !1, this.socket = e.socket, this.enablesXDR = e.enablesXDR, this.withCredentials = e.withCredentials, this.pfx = e.pfx, this.key = e.key, this.passphrase = e.passphrase, this.cert = e.cert, this.ca = e.ca, this.ciphers = e.ciphers, this.rejectUnauthorized = e.rejectUnauthorized, this.forceNode = e.forceNode, this.isReactNative = e.isReactNative, this.extraHeaders = e.extraHeaders, this.localAddress = e.localAddress } Ks(xe.prototype); xe.prototype.onError = function (e, t) { var r = new Error(e); return r.type = "TransportError", r.description = t, this.emit("error", r), this }; xe.prototype.open = function () { return (this.readyState === "closed" || this.readyState === "") && (this.readyState = "opening", this.doOpen()), this }; xe.prototype.close = function () { return (this.readyState === "opening" || this.readyState === "open") && (this.doClose(), this.onClose()), this }; xe.prototype.send = function (e) { if (this.readyState === "open") this.write(e); else throw new Error("Transport not open") }; xe.prototype.onOpen = function () { this.readyState = "open", this.writable = !0, this.emit("open") }; xe.prototype.onData = function (e) { var t = Ys.decodePacket(e, this.socket.binaryType); this.onPacket(t) }; xe.prototype.onPacket = function (e) { this.emit("packet", e) }; xe.prototype.onClose = function () { this.readyState = "closed", this.emit("close") } }); var ct = O(Nr => { Nr.encode = function (e) { var t = ""; for (var r in e) e.hasOwnProperty(r) && (t.length && (t += "&"), t += encodeURIComponent(r) + "=" + encodeURIComponent(e[r])); return t }; Nr.decode = function (e) { for (var t = {}, r = e.split("&"), n = 0, i = r.length; n < i; n++) { var a = r[n].split("="); t[decodeURIComponent(a[0])] = decodeURIComponent(a[1]) } return t } }); var lt = O((fc, Ti) => { Ti.exports = function (e, t) { var r = function () { }; r.prototype = t.prototype, e.prototype = new r, e.prototype.constructor = e } }); var Fr = O((hc, Mi) => { "use strict"; var Ii = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""), Dt = 64, Ni = {}, ki = 0, De = 0, Ai; function Mr(e) { var t = ""; do t = Ii[e % Dt] + t, e = Math.floor(e / Dt); while (e > 0); return t } function Js(e) { var t = 0; for (De = 0; De < e.length; De++)t = t * Dt + Ni[e.charAt(De)]; return t } function Or() { var e = Mr(+new Date); return e !== Ai ? (ki = 0, Ai = e) : e + "." + Mr(ki++) } for (; De < Dt; De++)Ni[Ii[De]] = De; Or.encode = Mr; Or.decode = Js; Mi.exports = Or }); var Rr = O((pc, Ri) => { var Oi = Rt(), Gs = ct(), Fi = qe(), $s = lt(), Qs = Fr(), we = Ee()("engine.io-client:polling"); Ri.exports = Te; var Zs = function () { var e = At(), t = new e({ xdomain: !1 }); return t.responseType != null }(); function Te(e) { var t = e && e.forceBase64; (!Zs || t) && (this.supportsBinary = !1), Oi.call(this, e) } $s(Te, Oi); Te.prototype.name = "polling"; Te.prototype.doOpen = function () { this.poll() }; Te.prototype.pause = function (e) { var t = this; this.readyState = "pausing"; function r() { we("paused"), t.readyState = "paused", e() } if (this.polling || !this.writable) { var n = 0; this.polling && (we("we are currently polling - waiting to pause"), n++, this.once("pollComplete", function () { we("pre-pause polling complete"), --n || r() })), this.writable || (we("we are currently writing - waiting to pause"), n++, this.once("drain", function () { we("pre-pause writing complete"), --n || r() })) } else r() }; Te.prototype.poll = function () { we("polling"), this.polling = !0, this.doPoll(), this.emit("poll") }; Te.prototype.onData = function (e) { var t = this; we("polling got data %s", e); var r = function (n, i, a) { if (t.readyState === "opening" && n.type === "open" && t.onOpen(), n.type === "close") return t.onClose(), !1; t.onPacket(n) }; Fi.decodePayload(e, this.socket.binaryType, r), this.readyState !== "closed" && (this.polling = !1, this.emit("pollComplete"), this.readyState === "open" ? this.poll() : we('ignoring poll - transport state "%s"', this.readyState)) }; Te.prototype.doClose = function () { var e = this; function t() { we("writing close packet"), e.write([{ type: "close" }]) } this.readyState === "open" ? (we("transport open - closing"), t()) : (we("transport not open - deferring close"), this.once("open", t)) }; Te.prototype.write = function (e) { var t = this; this.writable = !1; var r = function () { t.writable = !0, t.emit("drain") }; Fi.encodePayload(e, this.supportsBinary, function (n) { t.doWrite(n, r) }) }; Te.prototype.uri = function () { var e = this.query || {}, t = this.secure ? "https" : "http", r = ""; this.timestampRequests !== !1 && (e[this.timestampParam] = Qs()), !this.supportsBinary && !e.sid && (e.b64 = 1), e = Gs.encode(e), this.port && (t === "https" && Number(this.port) !== 443 || t === "http" && Number(this.port) !== 80) && (r = ":" + this.port), e.length && (e = "?" + e); var n = this.hostname.indexOf(":") !== -1; return t + "://" + (n ? "[" + this.hostname + "]" : this.hostname) + r + this.path + e } }); var qi = O((dc, Br) => { var eu = At(), Pi = Rr(), tu = Pe(), ru = lt(), Dr = Ee()("engine.io-client:polling-xhr"), nu = kt(); Br.exports = je; Br.exports.Request = ne; function Di() { } function je(e) { if (Pi.call(this, e), this.requestTimeout = e.requestTimeout, this.extraHeaders = e.extraHeaders, typeof location < "u") { var t = location.protocol === "https:", r = location.port; r || (r = t ? 443 : 80), this.xd = typeof location < "u" && e.hostname !== location.hostname || r !== e.port, this.xs = e.secure !== t } } ru(je, Pi); je.prototype.supportsBinary = !0; je.prototype.request = function (e) { return e = e || {}, e.uri = this.uri(), e.xd = this.xd, e.xs = this.xs, e.agent = this.agent || !1, e.supportsBinary = this.supportsBinary, e.enablesXDR = this.enablesXDR, e.withCredentials = this.withCredentials, e.pfx = this.pfx, e.key = this.key, e.passphrase = this.passphrase, e.cert = this.cert, e.ca = this.ca, e.ciphers = this.ciphers, e.rejectUnauthorized = this.rejectUnauthorized, e.requestTimeout = this.requestTimeout, e.extraHeaders = this.extraHeaders, new ne(e) }; je.prototype.doWrite = function (e, t) { var r = typeof e != "string" && e !== void 0, n = this.request({ method: "POST", data: e, isBinary: r }), i = this; n.on("success", t), n.on("error", function (a) { i.onError("xhr post error", a) }), this.sendXhr = n }; je.prototype.doPoll = function () { Dr("xhr poll"); var e = this.request(), t = this; e.on("data", function (r) { t.onData(r) }), e.on("error", function (r) { t.onError("xhr poll error", r) }), this.pollXhr = e }; function ne(e) { this.method = e.method || "GET", this.uri = e.uri, this.xd = !!e.xd, this.xs = !!e.xs, this.async = e.async !== !1, this.data = e.data !== void 0 ? e.data : null, this.agent = e.agent, this.isBinary = e.isBinary, this.supportsBinary = e.supportsBinary, this.enablesXDR = e.enablesXDR, this.withCredentials = e.withCredentials, this.requestTimeout = e.requestTimeout, this.pfx = e.pfx, this.key = e.key, this.passphrase = e.passphrase, this.cert = e.cert, this.ca = e.ca, this.ciphers = e.ciphers, this.rejectUnauthorized = e.rejectUnauthorized, this.extraHeaders = e.extraHeaders, this.create() } tu(ne.prototype); ne.prototype.create = function () { var e = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR }; e.pfx = this.pfx, e.key = this.key, e.passphrase = this.passphrase, e.cert = this.cert, e.ca = this.ca, e.ciphers = this.ciphers, e.rejectUnauthorized = this.rejectUnauthorized; var t = this.xhr = new eu(e), r = this; try { Dr("xhr open %s: %s", this.method, this.uri), t.open(this.method, this.uri, this.async); try { if (this.extraHeaders) { t.setDisableHeaderCheck && t.setDisableHeaderCheck(!0); for (var n in this.extraHeaders) this.extraHeaders.hasOwnProperty(n) && t.setRequestHeader(n, this.extraHeaders[n]) } } catch { } if (this.method === "POST") try { this.isBinary ? t.setRequestHeader("Content-type", "application/octet-stream") : t.setRequestHeader("Content-type", "text/plain;charset=UTF-8") } catch { } try { t.setRequestHeader("Accept", "*/*") } catch { } "withCredentials" in t && (t.withCredentials = this.withCredentials), this.requestTimeout && (t.timeout = this.requestTimeout), this.hasXDR() ? (t.onload = function () { r.onLoad() }, t.onerror = function () { r.onError(t.responseText) }) : t.onreadystatechange = function () { if (t.readyState === 2) try { var i = t.getResponseHeader("Content-Type"); (r.supportsBinary && i === "application/octet-stream" || i === "application/octet-stream; charset=UTF-8") && (t.responseType = "arraybuffer") } catch { } t.readyState === 4 && (t.status === 200 || t.status === 1223 ? r.onLoad() : setTimeout(function () { r.onError(typeof t.status == "number" ? t.status : 0) }, 0)) }, Dr("xhr data %s", this.data), t.send(this.data) } catch (i) { setTimeout(function () { r.onError(i) }, 0); return } typeof document < "u" && (this.index = ne.requestsCount++, ne.requests[this.index] = this) }; ne.prototype.onSuccess = function () { this.emit("success"), this.cleanup() }; ne.prototype.onData = function (e) { this.emit("data", e), this.onSuccess() }; ne.prototype.onError = function (e) { this.emit("error", e), this.cleanup(!0) }; ne.prototype.cleanup = function (e) { if (!(typeof this.xhr > "u" || this.xhr === null)) { if (this.hasXDR() ? this.xhr.onload = this.xhr.onerror = Di : this.xhr.onreadystatechange = Di, e) try { this.xhr.abort() } catch { } typeof document < "u" && delete ne.requests[this.index], this.xhr = null } }; ne.prototype.onLoad = function () { var e; try { var t; try { t = this.xhr.getResponseHeader("Content-Type") } catch { } t === "application/octet-stream" || t === "application/octet-stream; charset=UTF-8" ? e = this.xhr.response || this.xhr.responseText : e = this.xhr.responseText } catch (r) { this.onError(r) } e != null && this.onData(e) }; ne.prototype.hasXDR = function () { return typeof XDomainRequest < "u" && !this.xs && this.enablesXDR }; ne.prototype.abort = function () { this.cleanup() }; ne.requestsCount = 0; ne.requests = {}; typeof document < "u" && (typeof attachEvent == "function" ? attachEvent("onunload", Li) : typeof addEventListener == "function" && (Bi = "onpagehide" in nu ? "pagehide" : "unload", addEventListener(Bi, Li, !1))); var Bi; function Li() { for (var e in ne.requests) ne.requests.hasOwnProperty(e) && ne.requests[e].abort() } }); var Hi = O((vc, Ui) => {
		var Lr = Rr(), iu = lt(), _i = kt(); Ui.exports = Ye; var au = /\n/g, ou = /\\n/g, Bt; function su() { } function Ye(e) { Lr.call(this, e), this.query = this.query || {}, Bt || (Bt = _i.___eio = _i.___eio || []), this.index = Bt.length; var t = this; Bt.push(function (r) { t.onData(r) }), this.query.j = this.index, typeof addEventListener == "function" && addEventListener("beforeunload", function () { t.script && (t.script.onerror = su) }, !1) } iu(Ye, Lr); Ye.prototype.supportsBinary = !1; Ye.prototype.doClose = function () { this.script && (this.script.parentNode.removeChild(this.script), this.script = null), this.form && (this.form.parentNode.removeChild(this.form), this.form = null, this.iframe = null), Lr.prototype.doClose.call(this) }; Ye.prototype.doPoll = function () { var e = this, t = document.createElement("script"); this.script && (this.script.parentNode.removeChild(this.script), this.script = null), t.async = !0, t.src = this.uri(), t.onerror = function (i) { e.onError("jsonp poll error", i) }; var r = document.getElementsByTagName("script")[0]; r ? r.parentNode.insertBefore(t, r) : (document.head || document.body).appendChild(t), this.script = t; var n = typeof navigator < "u" && /gecko/i.test(navigator.userAgent); n && setTimeout(function () { var i = document.createElement("iframe"); document.body.appendChild(i), document.body.removeChild(i) }, 100) }; Ye.prototype.doWrite = function (e, t) {
			var r = this; if (!this.form) { var n = document.createElement("form"), i = document.createElement("textarea"), a = this.iframeId = "eio_iframe_" + this.index, o; n.className = "socketio", n.style.position = "absolute", n.style.top = "-1000px", n.style.left = "-1000px", n.target = a, n.method = "POST", n.setAttribute("accept-charset", "utf-8"), i.name = "d", n.appendChild(i), document.body.appendChild(n), this.form = n, this.area = i } this.form.action = this.uri(); function u() { s(), t() } function s() { if (r.iframe) try { r.form.removeChild(r.iframe) } catch (l) { r.onError("jsonp polling iframe removal error", l) } try { var c = '<iframe src="javascript:0" name="' + r.iframeId + '">'; o = document.createElement(c) } catch { o = document.createElement("iframe"), o.name = r.iframeId, o.src = "javascript:0" } o.id = r.iframeId, r.form.appendChild(o), r.iframe = o } s(), e = e.replace(ou, `\\
`), this.area.value = e.replace(au, "\\n"); try { this.form.submit() } catch { } this.iframe.attachEvent ? this.iframe.onreadystatechange = function () { r.iframe.readyState === "complete" && u() } : this.iframe.onload = u
		}
	}); var zi = O(() => { }); var Wi = O((gc, Vi) => { var Pr = Rt(), uu = qe(), cu = ct(), lu = lt(), fu = Fr(), hu = Ee()("engine.io-client:websocket"), Lt, qr; typeof WebSocket < "u" ? Lt = WebSocket : typeof self < "u" && (Lt = self.WebSocket || self.MozWebSocket); if (typeof window > "u") try { qr = zi() } catch { } var Ke = Lt || qr; Vi.exports = ve; function ve(e) { var t = e && e.forceBase64; t && (this.supportsBinary = !1), this.perMessageDeflate = e.perMessageDeflate, this.usingBrowserWebSocket = Lt && !e.forceNode, this.protocols = e.protocols, this.usingBrowserWebSocket || (Ke = qr), Pr.call(this, e) } lu(ve, Pr); ve.prototype.name = "websocket"; ve.prototype.supportsBinary = !0; ve.prototype.doOpen = function () { if (!!this.check()) { var e = this.uri(), t = this.protocols, r = {}; this.isReactNative || (r.agent = this.agent, r.perMessageDeflate = this.perMessageDeflate, r.pfx = this.pfx, r.key = this.key, r.passphrase = this.passphrase, r.cert = this.cert, r.ca = this.ca, r.ciphers = this.ciphers, r.rejectUnauthorized = this.rejectUnauthorized), this.extraHeaders && (r.headers = this.extraHeaders), this.localAddress && (r.localAddress = this.localAddress); try { this.ws = this.usingBrowserWebSocket && !this.isReactNative ? t ? new Ke(e, t) : new Ke(e) : new Ke(e, t, r) } catch (n) { return this.emit("error", n) } this.ws.binaryType === void 0 && (this.supportsBinary = !1), this.ws.supports && this.ws.supports.binary ? (this.supportsBinary = !0, this.ws.binaryType = "nodebuffer") : this.ws.binaryType = "arraybuffer", this.addEventListeners() } }; ve.prototype.addEventListeners = function () { var e = this; this.ws.onopen = function () { e.onOpen() }, this.ws.onclose = function () { e.onClose() }, this.ws.onmessage = function (t) { e.onData(t.data) }, this.ws.onerror = function (t) { e.onError("websocket error", t) } }; ve.prototype.write = function (e) { var t = this; this.writable = !1; for (var r = e.length, n = 0, i = r; n < i; n++)(function (o) { uu.encodePacket(o, t.supportsBinary, function (u) { if (!t.usingBrowserWebSocket) { var s = {}; if (o.options && (s.compress = o.options.compress), t.perMessageDeflate) { var c = typeof u == "string" ? Buffer.byteLength(u) : u.length; c < t.perMessageDeflate.threshold && (s.compress = !1) } } try { t.usingBrowserWebSocket ? t.ws.send(u) : t.ws.send(u, s) } catch { hu("websocket closed before onclose event") } --r || a() }) })(e[n]); function a() { t.emit("flush"), setTimeout(function () { t.writable = !0, t.emit("drain") }, 0) } }; ve.prototype.onClose = function () { Pr.prototype.onClose.call(this) }; ve.prototype.doClose = function () { typeof this.ws < "u" && this.ws.close() }; ve.prototype.uri = function () { var e = this.query || {}, t = this.secure ? "wss" : "ws", r = ""; this.port && (t === "wss" && Number(this.port) !== 443 || t === "ws" && Number(this.port) !== 80) && (r = ":" + this.port), this.timestampRequests && (e[this.timestampParam] = fu()), this.supportsBinary || (e.b64 = 1), e = cu.encode(e), e.length && (e = "?" + e); var n = this.hostname.indexOf(":") !== -1; return t + "://" + (n ? "[" + this.hostname + "]" : this.hostname) + r + this.path + e }; ve.prototype.check = function () { return !!Ke && !("__initialize" in Ke && this.name === ve.prototype.name) } }); var Ur = O(_r => { var pu = At(), du = qi(), vu = Hi(), mu = Wi(); _r.polling = yu; _r.websocket = mu; function yu(e) { var t, r = !1, n = !1, i = e.jsonp !== !1; if (typeof location < "u") { var a = location.protocol === "https:", o = location.port; o || (o = a ? 443 : 80), r = e.hostname !== location.hostname || o !== e.port, n = e.secure !== a } if (e.xdomain = r, e.xscheme = n, t = new pu(e), "open" in t && !e.forceJSONP) return new du(e); if (!i) throw new Error("JSONP disabled"); return new vu(e) } }); var Hr = O((wc, Xi) => { var gu = [].indexOf; Xi.exports = function (e, t) { if (gu) return e.indexOf(t); for (var r = 0; r < e.length; ++r)if (e[r] === t) return r; return -1 } }); var Ji = O((Cc, Ki) => { var bu = Ur(), wu = Pe(), ee = Ee()("engine.io-client:socket"), Cu = Hr(), Yi = qe(), ji = hr(), Su = ct(); Ki.exports = P; function P(e, t) { if (!(this instanceof P)) return new P(e, t); t = t || {}, e && typeof e == "object" && (t = e, e = null), e ? (e = ji(e), t.hostname = e.host, t.secure = e.protocol === "https" || e.protocol === "wss", t.port = e.port, e.query && (t.query = e.query)) : t.host && (t.hostname = ji(t.host).host), this.secure = t.secure != null ? t.secure : typeof location < "u" && location.protocol === "https:", t.hostname && !t.port && (t.port = this.secure ? "443" : "80"), this.agent = t.agent || !1, this.hostname = t.hostname || (typeof location < "u" ? location.hostname : "localhost"), this.port = t.port || (typeof location < "u" && location.port ? location.port : this.secure ? 443 : 80), this.query = t.query || {}, typeof this.query == "string" && (this.query = Su.decode(this.query)), this.upgrade = t.upgrade !== !1, this.path = (t.path || "/engine.io").replace(/\/$/, "") + "/", this.forceJSONP = !!t.forceJSONP, this.jsonp = t.jsonp !== !1, this.forceBase64 = !!t.forceBase64, this.enablesXDR = !!t.enablesXDR, this.withCredentials = t.withCredentials !== !1, this.timestampParam = t.timestampParam || "t", this.timestampRequests = t.timestampRequests, this.transports = t.transports || ["polling", "websocket"], this.transportOptions = t.transportOptions || {}, this.readyState = "", this.writeBuffer = [], this.prevBufferLen = 0, this.policyPort = t.policyPort || 843, this.rememberUpgrade = t.rememberUpgrade || !1, this.binaryType = null, this.onlyBinaryUpgrades = t.onlyBinaryUpgrades, this.perMessageDeflate = t.perMessageDeflate !== !1 ? t.perMessageDeflate || {} : !1, this.perMessageDeflate === !0 && (this.perMessageDeflate = {}), this.perMessageDeflate && this.perMessageDeflate.threshold == null && (this.perMessageDeflate.threshold = 1024), this.pfx = t.pfx || void 0, this.key = t.key || void 0, this.passphrase = t.passphrase || void 0, this.cert = t.cert || void 0, this.ca = t.ca || void 0, this.ciphers = t.ciphers || void 0, this.rejectUnauthorized = t.rejectUnauthorized === void 0 ? !0 : t.rejectUnauthorized, this.forceNode = !!t.forceNode, this.isReactNative = typeof navigator < "u" && typeof navigator.product == "string" && navigator.product.toLowerCase() === "reactnative", (typeof self > "u" || this.isReactNative) && (t.extraHeaders && Object.keys(t.extraHeaders).length > 0 && (this.extraHeaders = t.extraHeaders), t.localAddress && (this.localAddress = t.localAddress)), this.id = null, this.upgrades = null, this.pingInterval = null, this.pingTimeout = null, this.pingIntervalTimer = null, this.pingTimeoutTimer = null, this.open() } P.priorWebsocketSuccess = !1; wu(P.prototype); P.protocol = Yi.protocol; P.Socket = P; P.Transport = Rt(); P.transports = Ur(); P.parser = qe(); P.prototype.createTransport = function (e) { ee('creating transport "%s"', e); var t = Eu(this.query); t.EIO = Yi.protocol, t.transport = e; var r = this.transportOptions[e] || {}; this.id && (t.sid = this.id); var n = new bu[e]({ query: t, socket: this, agent: r.agent || this.agent, hostname: r.hostname || this.hostname, port: r.port || this.port, secure: r.secure || this.secure, path: r.path || this.path, forceJSONP: r.forceJSONP || this.forceJSONP, jsonp: r.jsonp || this.jsonp, forceBase64: r.forceBase64 || this.forceBase64, enablesXDR: r.enablesXDR || this.enablesXDR, withCredentials: r.withCredentials || this.withCredentials, timestampRequests: r.timestampRequests || this.timestampRequests, timestampParam: r.timestampParam || this.timestampParam, policyPort: r.policyPort || this.policyPort, pfx: r.pfx || this.pfx, key: r.key || this.key, passphrase: r.passphrase || this.passphrase, cert: r.cert || this.cert, ca: r.ca || this.ca, ciphers: r.ciphers || this.ciphers, rejectUnauthorized: r.rejectUnauthorized || this.rejectUnauthorized, perMessageDeflate: r.perMessageDeflate || this.perMessageDeflate, extraHeaders: r.extraHeaders || this.extraHeaders, forceNode: r.forceNode || this.forceNode, localAddress: r.localAddress || this.localAddress, requestTimeout: r.requestTimeout || this.requestTimeout, protocols: r.protocols || void 0, isReactNative: this.isReactNative }); return n }; function Eu(e) { var t = {}; for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]); return t } P.prototype.open = function () { var e; if (this.rememberUpgrade && P.priorWebsocketSuccess && this.transports.indexOf("websocket") !== -1) e = "websocket"; else if (this.transports.length === 0) { var t = this; setTimeout(function () { t.emit("error", "No transports available") }, 0); return } else e = this.transports[0]; this.readyState = "opening"; try { e = this.createTransport(e) } catch { this.transports.shift(), this.open(); return } e.open(), this.setTransport(e) }; P.prototype.setTransport = function (e) { ee("setting transport %s", e.name); var t = this; this.transport && (ee("clearing existing transport %s", this.transport.name), this.transport.removeAllListeners()), this.transport = e, e.on("drain", function () { t.onDrain() }).on("packet", function (r) { t.onPacket(r) }).on("error", function (r) { t.onError(r) }).on("close", function () { t.onClose("transport close") }) }; P.prototype.probe = function (e) { ee('probing transport "%s"', e); var t = this.createTransport(e, { probe: 1 }), r = !1, n = this; P.priorWebsocketSuccess = !1; function i() { if (n.onlyBinaryUpgrades) { var f = !this.supportsBinary && n.transport.supportsBinary; r = r || f } r || (ee('probe transport "%s" opened', e), t.send([{ type: "ping", data: "probe" }]), t.once("packet", function (v) { if (!r) if (v.type === "pong" && v.data === "probe") { if (ee('probe transport "%s" pong', e), n.upgrading = !0, n.emit("upgrading", t), !t) return; P.priorWebsocketSuccess = t.name === "websocket", ee('pausing current transport "%s"', n.transport.name), n.transport.pause(function () { r || n.readyState !== "closed" && (ee("changing transport and sending upgrade packet"), l(), n.setTransport(t), t.send([{ type: "upgrade" }]), n.emit("upgrade", t), t = null, n.upgrading = !1, n.flush()) }) } else { ee('probe transport "%s" failed', e); var h = new Error("probe error"); h.transport = t.name, n.emit("upgradeError", h) } })) } function a() { r || (r = !0, l(), t.close(), t = null) } function o(f) { var v = new Error("probe error: " + f); v.transport = t.name, a(), ee('probe transport "%s" failed because of error: %s', e, f), n.emit("upgradeError", v) } function u() { o("transport closed") } function s() { o("socket closed") } function c(f) { t && f.name !== t.name && (ee('"%s" works - aborting "%s"', f.name, t.name), a()) } function l() { t.removeListener("open", i), t.removeListener("error", o), t.removeListener("close", u), n.removeListener("close", s), n.removeListener("upgrading", c) } t.once("open", i), t.once("error", o), t.once("close", u), this.once("close", s), this.once("upgrading", c), t.open() }; P.prototype.onOpen = function () { if (ee("socket open"), this.readyState = "open", P.priorWebsocketSuccess = this.transport.name === "websocket", this.emit("open"), this.flush(), this.readyState === "open" && this.upgrade && this.transport.pause) { ee("starting upgrade probes"); for (var e = 0, t = this.upgrades.length; e < t; e++)this.probe(this.upgrades[e]) } }; P.prototype.onPacket = function (e) { if (this.readyState === "opening" || this.readyState === "open" || this.readyState === "closing") switch (ee('socket receive: type "%s", data "%s"', e.type, e.data), this.emit("packet", e), this.emit("heartbeat"), e.type) { case "open": this.onHandshake(JSON.parse(e.data)); break; case "pong": this.setPing(), this.emit("pong"); break; case "error": var t = new Error("server error"); t.code = e.data, this.onError(t); break; case "message": this.emit("data", e.data), this.emit("message", e.data); break } else ee('packet received with socket readyState "%s"', this.readyState) }; P.prototype.onHandshake = function (e) { this.emit("handshake", e), this.id = e.sid, this.transport.query.sid = e.sid, this.upgrades = this.filterUpgrades(e.upgrades), this.pingInterval = e.pingInterval, this.pingTimeout = e.pingTimeout, this.onOpen(), this.readyState !== "closed" && (this.setPing(), this.removeListener("heartbeat", this.onHeartbeat), this.on("heartbeat", this.onHeartbeat)) }; P.prototype.onHeartbeat = function (e) { clearTimeout(this.pingTimeoutTimer); var t = this; t.pingTimeoutTimer = setTimeout(function () { t.readyState !== "closed" && t.onClose("ping timeout") }, e || t.pingInterval + t.pingTimeout) }; P.prototype.setPing = function () { var e = this; clearTimeout(e.pingIntervalTimer), e.pingIntervalTimer = setTimeout(function () { ee("writing ping packet - expecting pong within %sms", e.pingTimeout), e.ping(), e.onHeartbeat(e.pingTimeout) }, e.pingInterval) }; P.prototype.ping = function () { var e = this; this.sendPacket("ping", function () { e.emit("ping") }) }; P.prototype.onDrain = function () { this.writeBuffer.splice(0, this.prevBufferLen), this.prevBufferLen = 0, this.writeBuffer.length === 0 ? this.emit("drain") : this.flush() }; P.prototype.flush = function () { this.readyState !== "closed" && this.transport.writable && !this.upgrading && this.writeBuffer.length && (ee("flushing %d packets in socket", this.writeBuffer.length), this.transport.send(this.writeBuffer), this.prevBufferLen = this.writeBuffer.length, this.emit("flush")) }; P.prototype.write = P.prototype.send = function (e, t, r) { return this.sendPacket("message", e, t, r), this }; P.prototype.sendPacket = function (e, t, r, n) { if (typeof t == "function" && (n = t, t = void 0), typeof r == "function" && (n = r, r = null), !(this.readyState === "closing" || this.readyState === "closed")) { r = r || {}, r.compress = r.compress !== !1; var i = { type: e, data: t, options: r }; this.emit("packetCreate", i), this.writeBuffer.push(i), n && this.once("flush", n), this.flush() } }; P.prototype.close = function () { if (this.readyState === "opening" || this.readyState === "open") { this.readyState = "closing"; var e = this; this.writeBuffer.length ? this.once("drain", function () { this.upgrading ? n() : t() }) : this.upgrading ? n() : t() } function t() { e.onClose("forced close"), ee("socket closing - telling transport to close"), e.transport.close() } function r() { e.removeListener("upgrade", r), e.removeListener("upgradeError", r), t() } function n() { e.once("upgrade", r), e.once("upgradeError", r) } return this }; P.prototype.onError = function (e) { ee("socket error %j", e), P.priorWebsocketSuccess = !1, this.emit("error", e), this.onClose("transport error", e) }; P.prototype.onClose = function (e, t) { if (this.readyState === "opening" || this.readyState === "open" || this.readyState === "closing") { ee('socket close with reason: "%s"', e); var r = this; clearTimeout(this.pingIntervalTimer), clearTimeout(this.pingTimeoutTimer), this.transport.removeAllListeners("close"), this.transport.close(), this.transport.removeAllListeners(), this.readyState = "closed", this.id = null, this.emit("close", e, t), r.writeBuffer = [], r.prevBufferLen = 0 } }; P.prototype.filterUpgrades = function (e) { for (var t = [], r = 0, n = e.length; r < n; r++)~Cu(this.transports, e[r]) && t.push(e[r]); return t } }); var Gi = O((Sc, zr) => { zr.exports = Ji(); zr.exports.parser = qe() }); var Qi = O((Ec, $i) => { $i.exports = xu; function xu(e, t) { var r = []; t = t || 0; for (var n = t || 0; n < e.length; n++)r[n - t] = e[n]; return r } }); var Vr = O((xc, Zi) => { Zi.exports = Tu; function Tu(e, t, r) { return e.on(t, r), { destroy: function () { e.removeListener(t, r) } } } }); var Wr = O((Tc, ta) => { var ea = [].slice; ta.exports = function (e, t) { if (typeof t == "string" && (t = e[t]), typeof t != "function") throw new Error("bind() requires a function"); var r = ea.call(arguments, 2); return function () { return t.apply(e, r.concat(ea.call(arguments))) } } }); var Jr = O((ia, aa) => { var he = Tt(), ra = Pe(), Yr = Qi(), Xr = Vr(), jr = Wr(), Ce = Ee()("socket.io-client:socket"), ku = ct(), na = xr(); aa.exports = ia = Q; var Au = { connect: 1, connect_error: 1, connect_timeout: 1, connecting: 1, disconnect: 1, error: 1, reconnect: 1, reconnect_attempt: 1, reconnect_failed: 1, reconnect_error: 1, reconnecting: 1, ping: 1, pong: 1 }, Kr = ra.prototype.emit; function Q(e, t, r) { this.io = e, this.nsp = t, this.json = this, this.ids = 0, this.acks = {}, this.receiveBuffer = [], this.sendBuffer = [], this.connected = !1, this.disconnected = !0, this.flags = {}, r && r.query && (this.query = r.query), this.io.autoConnect && this.open() } ra(Q.prototype); Q.prototype.subEvents = function () { if (!this.subs) { var e = this.io; this.subs = [Xr(e, "open", jr(this, "onopen")), Xr(e, "packet", jr(this, "onpacket")), Xr(e, "close", jr(this, "onclose"))] } }; Q.prototype.open = Q.prototype.connect = function () { return this.connected ? this : (this.subEvents(), this.io.reconnecting || this.io.open(), this.io.readyState === "open" && this.onopen(), this.emit("connecting"), this) }; Q.prototype.send = function () { var e = Yr(arguments); return e.unshift("message"), this.emit.apply(this, e), this }; Q.prototype.emit = function (e) { if (Au.hasOwnProperty(e)) return Kr.apply(this, arguments), this; var t = Yr(arguments), r = { type: (this.flags.binary !== void 0 ? this.flags.binary : na(t)) ? he.BINARY_EVENT : he.EVENT, data: t }; return r.options = {}, r.options.compress = !this.flags || this.flags.compress !== !1, typeof t[t.length - 1] == "function" && (Ce("emitting packet with ack id %d", this.ids), this.acks[this.ids] = t.pop(), r.id = this.ids++), this.connected ? this.packet(r) : this.sendBuffer.push(r), this.flags = {}, this }; Q.prototype.packet = function (e) { e.nsp = this.nsp, this.io.packet(e) }; Q.prototype.onopen = function () { if (Ce("transport is open - connecting"), this.nsp !== "/") if (this.query) { var e = typeof this.query == "object" ? ku.encode(this.query) : this.query; Ce("sending connect packet with query %s", e), this.packet({ type: he.CONNECT, query: e }) } else this.packet({ type: he.CONNECT }) }; Q.prototype.onclose = function (e) { Ce("close (%s)", e), this.connected = !1, this.disconnected = !0, delete this.id, this.emit("disconnect", e) }; Q.prototype.onpacket = function (e) { var t = e.nsp === this.nsp, r = e.type === he.ERROR && e.nsp === "/"; if (!(!t && !r)) switch (e.type) { case he.CONNECT: this.onconnect(); break; case he.EVENT: this.onevent(e); break; case he.BINARY_EVENT: this.onevent(e); break; case he.ACK: this.onack(e); break; case he.BINARY_ACK: this.onack(e); break; case he.DISCONNECT: this.ondisconnect(); break; case he.ERROR: this.emit("error", e.data); break } }; Q.prototype.onevent = function (e) { var t = e.data || []; Ce("emitting event %j", t), e.id != null && (Ce("attaching ack callback to event"), t.push(this.ack(e.id))), this.connected ? Kr.apply(this, t) : this.receiveBuffer.push(t) }; Q.prototype.ack = function (e) { var t = this, r = !1; return function () { if (!r) { r = !0; var n = Yr(arguments); Ce("sending ack %j", n), t.packet({ type: na(n) ? he.BINARY_ACK : he.ACK, id: e, data: n }) } } }; Q.prototype.onack = function (e) { var t = this.acks[e.id]; typeof t == "function" ? (Ce("calling ack %s with %j", e.id, e.data), t.apply(this, e.data), delete this.acks[e.id]) : Ce("bad ack %s", e.id) }; Q.prototype.onconnect = function () { this.connected = !0, this.disconnected = !1, this.emitBuffered(), this.emit("connect") }; Q.prototype.emitBuffered = function () { var e; for (e = 0; e < this.receiveBuffer.length; e++)Kr.apply(this, this.receiveBuffer[e]); for (this.receiveBuffer = [], e = 0; e < this.sendBuffer.length; e++)this.packet(this.sendBuffer[e]); this.sendBuffer = [] }; Q.prototype.ondisconnect = function () { Ce("server disconnect (%s)", this.nsp), this.destroy(), this.onclose("io server disconnect") }; Q.prototype.destroy = function () { if (this.subs) { for (var e = 0; e < this.subs.length; e++)this.subs[e].destroy(); this.subs = null } this.io.destroy(this) }; Q.prototype.close = Q.prototype.disconnect = function () { return this.connected && (Ce("performing disconnect (%s)", this.nsp), this.packet({ type: he.DISCONNECT })), this.destroy(), this.connected && this.onclose("io client disconnect"), this }; Q.prototype.compress = function (e) { return this.flags.compress = e, this }; Q.prototype.binary = function (e) { return this.flags.binary = e, this } }); var sa = O((kc, oa) => { oa.exports = Je; function Je(e) { e = e || {}, this.ms = e.min || 100, this.max = e.max || 1e4, this.factor = e.factor || 2, this.jitter = e.jitter > 0 && e.jitter <= 1 ? e.jitter : 0, this.attempts = 0 } Je.prototype.duration = function () { var e = this.ms * Math.pow(this.factor, this.attempts++); if (this.jitter) { var t = Math.random(), r = Math.floor(t * this.jitter * e); e = (Math.floor(t * 10) & 1) == 0 ? e - r : e + r } return Math.min(e, this.max) | 0 }; Je.prototype.reset = function () { this.attempts = 0 }; Je.prototype.setMin = function (e) { this.ms = e }; Je.prototype.setMax = function (e) { this.max = e }; Je.prototype.setJitter = function (e) { this.jitter = e } }); var Gr = O((Ac, la) => { var Iu = Gi(), Nu = Jr(), Mu = Pe(), Ou = Tt(), Be = Vr(), Ge = Wr(), ce = Ee()("socket.io-client:manager"), ua = Hr(), Fu = sa(), ca = Object.prototype.hasOwnProperty; la.exports = q; function q(e, t) { if (!(this instanceof q)) return new q(e, t); e && typeof e == "object" && (t = e, e = void 0), t = t || {}, t.path = t.path || "/socket.io", this.nsps = {}, this.subs = [], this.opts = t, this.reconnection(t.reconnection !== !1), this.reconnectionAttempts(t.reconnectionAttempts || 1 / 0), this.reconnectionDelay(t.reconnectionDelay || 1e3), this.reconnectionDelayMax(t.reconnectionDelayMax || 5e3), this.randomizationFactor(t.randomizationFactor || .5), this.backoff = new Fu({ min: this.reconnectionDelay(), max: this.reconnectionDelayMax(), jitter: this.randomizationFactor() }), this.timeout(t.timeout == null ? 2e4 : t.timeout), this.readyState = "closed", this.uri = e, this.connecting = [], this.lastPing = null, this.encoding = !1, this.packetBuffer = []; var r = t.parser || Ou; this.encoder = new r.Encoder, this.decoder = new r.Decoder, this.autoConnect = t.autoConnect !== !1, this.autoConnect && this.open() } q.prototype.emitAll = function () { this.emit.apply(this, arguments); for (var e in this.nsps) ca.call(this.nsps, e) && this.nsps[e].emit.apply(this.nsps[e], arguments) }; q.prototype.updateSocketIds = function () { for (var e in this.nsps) ca.call(this.nsps, e) && (this.nsps[e].id = this.generateId(e)) }; q.prototype.generateId = function (e) { return (e === "/" ? "" : e + "#") + this.engine.id }; Mu(q.prototype); q.prototype.reconnection = function (e) { return arguments.length ? (this._reconnection = !!e, this) : this._reconnection }; q.prototype.reconnectionAttempts = function (e) { return arguments.length ? (this._reconnectionAttempts = e, this) : this._reconnectionAttempts }; q.prototype.reconnectionDelay = function (e) { return arguments.length ? (this._reconnectionDelay = e, this.backoff && this.backoff.setMin(e), this) : this._reconnectionDelay }; q.prototype.randomizationFactor = function (e) { return arguments.length ? (this._randomizationFactor = e, this.backoff && this.backoff.setJitter(e), this) : this._randomizationFactor }; q.prototype.reconnectionDelayMax = function (e) { return arguments.length ? (this._reconnectionDelayMax = e, this.backoff && this.backoff.setMax(e), this) : this._reconnectionDelayMax }; q.prototype.timeout = function (e) { return arguments.length ? (this._timeout = e, this) : this._timeout }; q.prototype.maybeReconnectOnOpen = function () { !this.reconnecting && this._reconnection && this.backoff.attempts === 0 && this.reconnect() }; q.prototype.open = q.prototype.connect = function (e, t) { if (ce("readyState %s", this.readyState), ~this.readyState.indexOf("open")) return this; ce("opening %s", this.uri), this.engine = Iu(this.uri, this.opts); var r = this.engine, n = this; this.readyState = "opening", this.skipReconnect = !1; var i = Be(r, "open", function () { n.onopen(), e && e() }), a = Be(r, "error", function (s) { if (ce("connect_error"), n.cleanup(), n.readyState = "closed", n.emitAll("connect_error", s), e) { var c = new Error("Connection error"); c.data = s, e(c) } else n.maybeReconnectOnOpen() }); if (this._timeout !== !1) { var o = this._timeout; ce("connect attempt will timeout after %d", o), o === 0 && i.destroy(); var u = setTimeout(function () { ce("connect attempt timed out after %d", o), i.destroy(), r.close(), r.emit("error", "timeout"), n.emitAll("connect_timeout", o) }, o); this.subs.push({ destroy: function () { clearTimeout(u) } }) } return this.subs.push(i), this.subs.push(a), this }; q.prototype.onopen = function () { ce("open"), this.cleanup(), this.readyState = "open", this.emit("open"); var e = this.engine; this.subs.push(Be(e, "data", Ge(this, "ondata"))), this.subs.push(Be(e, "ping", Ge(this, "onping"))), this.subs.push(Be(e, "pong", Ge(this, "onpong"))), this.subs.push(Be(e, "error", Ge(this, "onerror"))), this.subs.push(Be(e, "close", Ge(this, "onclose"))), this.subs.push(Be(this.decoder, "decoded", Ge(this, "ondecoded"))) }; q.prototype.onping = function () { this.lastPing = new Date, this.emitAll("ping") }; q.prototype.onpong = function () { this.emitAll("pong", new Date - this.lastPing) }; q.prototype.ondata = function (e) { this.decoder.add(e) }; q.prototype.ondecoded = function (e) { this.emit("packet", e) }; q.prototype.onerror = function (e) { ce("error", e), this.emitAll("error", e) }; q.prototype.socket = function (e, t) { var r = this.nsps[e]; if (!r) { r = new Nu(this, e, t), this.nsps[e] = r; var n = this; r.on("connecting", i), r.on("connect", function () { r.id = n.generateId(e) }), this.autoConnect && i() } function i() { ~ua(n.connecting, r) || n.connecting.push(r) } return r }; q.prototype.destroy = function (e) { var t = ua(this.connecting, e); ~t && this.connecting.splice(t, 1), !this.connecting.length && this.close() }; q.prototype.packet = function (e) { ce("writing packet %j", e); var t = this; e.query && e.type === 0 && (e.nsp += "?" + e.query), t.encoding ? t.packetBuffer.push(e) : (t.encoding = !0, this.encoder.encode(e, function (r) { for (var n = 0; n < r.length; n++)t.engine.write(r[n], e.options); t.encoding = !1, t.processPacketQueue() })) }; q.prototype.processPacketQueue = function () { if (this.packetBuffer.length > 0 && !this.encoding) { var e = this.packetBuffer.shift(); this.packet(e) } }; q.prototype.cleanup = function () { ce("cleanup"); for (var e = this.subs.length, t = 0; t < e; t++) { var r = this.subs.shift(); r.destroy() } this.packetBuffer = [], this.encoding = !1, this.lastPing = null, this.decoder.destroy() }; q.prototype.close = q.prototype.disconnect = function () { ce("disconnect"), this.skipReconnect = !0, this.reconnecting = !1, this.readyState === "opening" && this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.engine && this.engine.close() }; q.prototype.onclose = function (e) { ce("onclose"), this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.emit("close", e), this._reconnection && !this.skipReconnect && this.reconnect() }; q.prototype.reconnect = function () { if (this.reconnecting || this.skipReconnect) return this; var e = this; if (this.backoff.attempts >= this._reconnectionAttempts) ce("reconnect failed"), this.backoff.reset(), this.emitAll("reconnect_failed"), this.reconnecting = !1; else { var t = this.backoff.duration(); ce("will wait %dms before reconnect attempt", t), this.reconnecting = !0; var r = setTimeout(function () { e.skipReconnect || (ce("attempting reconnect"), e.emitAll("reconnect_attempt", e.backoff.attempts), e.emitAll("reconnecting", e.backoff.attempts), !e.skipReconnect && e.open(function (n) { n ? (ce("reconnect attempt error"), e.reconnecting = !1, e.reconnect(), e.emitAll("reconnect_error", n.data)) : (ce("reconnect success"), e.onreconnect()) })) }, t); this.subs.push({ destroy: function () { clearTimeout(r) } }) } }; q.prototype.onreconnect = function () { var e = this.backoff.attempts; this.reconnecting = !1, this.backoff.reset(), this.updateSocketIds(), this.emitAll("reconnect", e) } }); var va = O((_e, da) => { var Ru = Vn(), Du = Tt(), fa = Gr(), ha = Ee()("socket.io-client"); da.exports = _e = pa; var ft = _e.managers = {}; function pa(e, t) { typeof e == "object" && (t = e, e = void 0), t = t || {}; var r = Ru(e), n = r.source, i = r.id, a = r.path, o = ft[i] && a in ft[i].nsps, u = t.forceNew || t["force new connection"] || t.multiplex === !1 || o, s; return u ? (ha("ignoring socket cache for %s", n), s = fa(n, t)) : (ft[i] || (ha("new io instance for %s", n), ft[i] = fa(n, t)), s = ft[i]), r.query && !t.query && (t.query = r.query), s.socket(r.path, t) } _e.protocol = Du.protocol; _e.connect = pa; _e.Manager = Gr(); _e.Socket = Jr() }); var ht = "673211502794b0ab0c1544d0", Pt = "https://ltracking.de", Bu = "dea465630dc8d56d049017bf3669c1230d139a668f249954d482c18aeccd7a15", Lu = "no", Pu = "no"; function qu(e) { if (e !== "yes") return; let t = document.head; if (t) { let r = document.createElement("link"); r.rel = "stylesheet", r.href = Pt + "/chat/app.css?c=" + ht, t.appendChild(r); let n = document.createElement("script"); n.type = "text/javascript", n.src = Pt + "/chat/app.js?c=" + ht, n.async = !0, n.defer = !0, t.appendChild(n) } } function _u(e, t) { if (e !== "yes") return; let r = document.head; if (r) { let n = document.createElement("script"); n.type = "text/javascript", n.src = "https://a.usbrowserspeed.com/cs?pid=" + Bu + "&puid=" + t, r.appendChild(n) } } function ma() { let e = URL.createObjectURL(new Blob), t = e.toString(); return URL.revokeObjectURL(e), t.split(/[:\/]/g).pop().toLowerCase() } var $r = class { constructor(t, r, n, i, a, o) { this.clientId = t; this.sessionId = r; this.site = n; this.source = i; this.gclid = a; this.utm = o; this.timer = void 0, this.lastSendAt = 0, this.lastPage = void 0 } start() { this.cycle() } async cycle() { this.timer = void 0; let t = Date.now() - this.lastSendAt, r = window.location.pathname; (t >= 1e4 || this.lastPage !== r) && await this.sendData() || (this.timer = setTimeout(() => this.cycle(), 1e3)) } async sendData() { let t = window.location.pathname, r = JSON.stringify({ v: 18, tc: ht, cid: this.clientId, sid: this.sessionId, site: this.site, page: t, src: this.source, gclid: this.gclid, utm: this.utm }), n = await fetch(Pt + "/t/tr-12322", { method: "POST", mode: "no-cors", cache: "no-cache", keepalive: !1, credentials: "omit", body: r }).then(() => !1).catch(() => !0); return this.lastSendAt = Date.now(), this.lastPage = t, n } }; function Uu() { let e = `leadrebel_${ht}_v${18}`, t = `leadrebel_v${18}_cli`, r = `leadrebel_v${18}_ses`; if (window.frameElement || window.parent !== window.top || window.hasOwnProperty(e)) return; window[e] = !0; let n = new URL(window.location.href), i = n.protocol + "//" + n.host, a = n.searchParams.get("gclid"), o; if (document.referrer) { let h = new URL(document.referrer); o = h.protocol + "//" + h.host, o === i && (o = void 0) } let u = Array.from(n.searchParams.entries()).filter(h => h[0].startsWith("utm_")).map(h => h[0] + "=" + encodeURIComponent(h[1])).join("&"), s = localStorage.getItem(t); s || (s = ma(), localStorage.setItem(t, s)); let c = sessionStorage.getItem(r); c || (c = ma(), sessionStorage.setItem(r, c)); let l = new $r(s, c, i, o, a, u); qu(Lu), _u(Pu, c), l.start(); { let E = function () { p = 0, m = h({ maskAllInputs: !0, emit: x }) }, x = function (k, S) { p += 1, b.emit("frame", { v: 18, c: ht, s: c, f: { t: Date.now(), i: p, c: p === 1 || !!S, e: k } }) }; var f = E, v = x; let { record: h } = Rn(), b = va().connect(Pt, { transport: ["websocket"], path: "/t/vd-23122", reconnectionAttempts: 5, reconnectionDelay: 1e3 }), m, p = 0; b.on("abort", () => { m && m(), b.close() }); let w; b.on("reconnect", () => { w || (m && m(), w = setTimeout(() => { E(), w = void 0 }, Math.random() * 1e4)) }), E() } } Uu();
})();
